Developer guide

Onboarding

- Read `docs/overview.md` and `docs/conventions.md`.
- Run the project locally and inspect `src/components/AsciiBackground` and `src/components/HeroTitle`.

Adding a new visual component

1. Add a new file in `src/components/AsciiBackground/` using PascalCase, for example `MyRing.tsx`.
2. Implement animation using `useFrame` and prefer reusing refs and shared constants.
3. Export the component and include it in `Scene.tsx`.
4. If the component needs configuration, add it to `constants.ts`.

Adding a new hook

- Place new hooks under `src/hooks/` and expose narrow, well-typed APIs.
- Keep hooks UI-agnostic if they are intended for reuse.

Performance tuning

- Use the built-in `useMobile` hook to gate heavy effects. Reduce particle counts and disable postprocessing for low-end devices.
- Profile in Chrome DevTools (Performance and WebGL inspector) to detect heavy frames.
- Reuse geometries and materials instead of recreating per-frame.

Testing

- Add unit tests for pure functions and hooks. Use React Testing Library and jest for hooks with DOM.
- For visual testing use Storybook and snapshot tests.

Code reviews

- Check for memory leaks: ensure listeners from `useEffect` are cleaned up.
- Review `useFrame` callbacks for allocations. Prefer reuse.
- Verify TypeScript types on exported APIs.
