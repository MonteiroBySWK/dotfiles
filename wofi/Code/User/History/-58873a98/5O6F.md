Architecture

High-level structure

- Presentation layer: `src/app` pages and `src/components` UI
- Presentation internals: `AsciiBackground` (3D scene) and `HeroTitle` (text)
- Shared logic: `src/hooks` (device detection, mount state, category rotation)
- Assets: `public/` for static files and `public/favicon.svg`

AsciiBackground internals

- `AsciiBackground.tsx` mounts a `Canvas` from React Three Fiber and loads the `Scene` and a post-processing `AsciiEffect`.
- `Scene.tsx` manages the camera orientation, light sources and assembles smaller components: `MainIcosahedron`, `OuterRing`, `InnerRing`, `WireframeSphere`, `FloatingParticle`, `WaveRings`, `SpiralParticles`, `FrequencyWaves`, `RotatingSegmentedRing`.
- Each visual piece is a small component that uses `useFrame` and controlled refs. The parent `Scene` is responsible for global state like `isReady` and mouse position refs.
- Post-processing uses a ShaderMaterial and an orthographic render pass to draw an ASCII shading over the rendered scene.

HeroTitle internals

- `HeroTitle.tsx` renders the `TheraLogo`, a separator and `CategoryText` inside a centered container.
- Category rotation logic moved to `useCategoryRotation` which exposes refs for width calculation and `currentIndex`/`isAnimating` state.
- Layout animation is CSS-driven: transitions for opacity, transform and container width.

Billboard and circular shapes

- To avoid ellipses caused by camera orientation, the billboarding is applied at group parents using `group.quaternion.copy(camera.quaternion)` when necessary.
- Circle-like elements are rendered with `SphereGeometry` or uniform scale adjustments to guarantee circular appearance.

Performance and mobile

- `useMobile` disables cursor tracking and reduces particle counts/effects on mobile.
- dpr in `Canvas` is set to conservative values `[1, 1.5]`.
- Antialiasing is disabled where postprocessing shaders make it expensive.
