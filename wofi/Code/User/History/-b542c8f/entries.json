{"version":1,"resource":"file:///home/monteiro/codes/varejo_rapido/src/app/api/vendas/paginado/route.ts","entries":[{"id":"7pLV.ts","source":"Chat Edit: 'A pagina√ß√£o t√° assim agora:\n# üìÑ Documenta√ß√£o da API - Vendas\n\n## Endpoints de Vendas\n\n### 1. GET `/vendas` - Lista Simples\n\n**Descri√ß√£o:** Retorna todas as vendas em uma lista simples. Ideal para poucos dados e desenvolvimento inicial.\n\n**Resposta:**\n```json\n[\n  {\n    \"id\": 1,\n    \"dataVenda\": \"2025-10-02\",\n    \"quantidade\": 2,\n    \"valorUnitario\": 25.50,\n    \"valorTotalVenda\": 51.00,\n    \"produto\": {\n      \"id\": \"1001\",\n      \"nome\": \"Produto Exemplo\",\n      \"valorUnitario\": 25.50\n    },\n    \"cliente\": {\n      \"id\": \"2001\",\n      \"nome\": \"Jo√£o Silva\"\n    }\n  }\n]\n```\n\n### 2. GET `/vendas/paginado` - Com Pagina√ß√£o\n\n**Descri√ß√£o:** Endpoint com pagina√ß√£o usando Spring Data. Use quando houver muitos dados (>100 registros).\n\n**Par√¢metros de Query:**\n- `page` (opcional): N√∫mero da p√°gina (come√ßa em 0) - padr√£o: 0\n- `size` (opcional): Tamanho da p√°gina - padr√£o: 20\n- `sort` (opcional): Campo e dire√ß√£o da ordena√ß√£o - padr√£o: dataVenda\n\n**Exemplos de Uso:**\n```\nGET /vendas/paginado                    # Primeira p√°gina, 20 itens\nGET /vendas/paginado?page=1&size=10     # Segunda p√°gina, 10 itens\nGET /vendas/paginado?sort=id,desc       # Ordenado por ID decrescente\nGET /vendas/paginado?sort=valorTotalVenda,asc # Ordenado por valor crescente\n```\n\n**Resposta (Spring Page):**\n```json\n{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"dataVenda\": \"2025-10-02\",\n      \"quantidade\": 2,\n      \"valorUnitario\": 25.50,\n      \"valorTotalVenda\": 51.00,\n      \"produto\": {\n        \"id\": \"1001\",\n        \"nome\": \"Produto Exemplo\",\n        \"valorUnitario\": 25.50\n      },\n      \"cliente\": {\n        \"id\": \"2001\",\n        \"nome\": \"Jo√£o Silva\"\n      }\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 20,\n    \"sort\": {\n      \"sorted\": true,\n      \"empty\": false\n    }\n  },\n  \"totalElements\": 100,\n  \"totalPages\": 5,\n  \"last\": false,\n  \"first\": true,\n  \"numberOfElements\": 20\n}\n```\n\n### 3. POST `/vendas` - Processar Vendas em Lote\n\n**Descri√ß√£o:** Processa dados vindos do frontend (arquivo .dat parseado).\n\n**Body:** Array de objetos `ItemRequestBody`\n\n**Resposta:** Objeto `VendaResponse` com estat√≠sticas do processamento.\n\n## üìã Exemplos Pr√°ticos\n\n### Frontend JavaScript\n\n**Lista Simples (recomendado para in√≠cio):**\n```javascript\n// Buscar todas as vendas\nconst response = await fetch('/vendas');\nconst vendas = await response.json();\n\nconsole.log(`Total de vendas: ${vendas.length}`);\nvendas.forEach(venda => {\n    console.log(`Venda ${venda.id}: R$ ${venda.valorTotalVenda}`);\n});\n```\n\n**Com Pagina√ß√£o (quando necess√°rio):**\n```javascript\n// Buscar primeira p√°gina\nconst response = await fetch('/vendas/paginado?page=0&size=10');\nconst data = await response.json();\n\nconsole.log(`P√°gina ${data.number + 1} de ${data.totalPages}`);\nconsole.log(`Total de vendas: ${data.totalElements}`);\n\n// Buscar pr√≥xima p√°gina se existir\nif (!data.last) {\n    const nextPage = await fetch(`/vendas/paginado?page=${data.number + 1}&size=10`);\n}\n```\n\n### CURL\n\n```bash\n# Lista simples (para desenvolvimento)\ncurl \"http://localhost:8080/vendas\"\n\n# Com pagina√ß√£o (para produ√ß√£o com muitos dados)\ncurl \"http://localhost:8080/vendas/paginado?page=0&size=5\"\ncurl \"http://localhost:8080/vendas/paginado?sort=valorTotalVenda,desc\"\n```\n\n## üéØ Quando Usar Cada Endpoint\n\n### GET `/vendas` (Lista Simples)\n‚úÖ **Use quando:**\n- Poucos dados (< 100 registros)\n- Desenvolvimento/testes\n- Frontend precisa de todos os dados\n- Simplicidade √© prioridade\n\n### GET `/vendas/paginado` (Com Pagina√ß√£o)\n‚úÖ **Use quando:**\n- Muitos dados (> 100 registros)\n- Performance √© cr√≠tica\n- Frontend tem navega√ß√£o por p√°ginas\n- Produ√ß√£o com grandes volumes\n\n## üöÄ Vantagens da Implementa√ß√£o\n\n‚úÖ **Simplicidade primeiro**: Lista simples para come√ßar\n‚úÖ **Escalabilidade**: Pagina√ß√£o quando necess√°rio\n‚úÖ **Padr√£o Spring**: Usa `Page<T>` nativo sem reinventar a roda\n‚úÖ **Performance otimizada**: Abordagem pragm√°tica baseada no volume de dados\n‚úÖ **F√°cil migra√ß√£o**: Simples trocar de endpoint quando crescer'","timestamp":1759462723788},{"id":"UEug.ts","source":"Chat Edit: 'guia de pagina√ß√£o nova:\n# üìÑ Documenta√ß√£o da API - Vendas\n\n## Endpoints de Vendas\n\n### 1. GET `/vendas` - Lista Simples\n\n**Descri√ß√£o:** Retorna todas as vendas em uma lista simples. Ideal para poucos dados e desenvolvimento inicial.\n\n**Resposta:**\n```json\n[\n  {\n    \"id\": 1,\n    \"dataVenda\": \"2025-10-02\",\n    \"quantidade\": 2,\n    \"valorUnitario\": 25.50,\n    \"valorTotalVenda\": 51.00,\n    \"produto\": {\n      \"id\": \"1001\",\n      \"nome\": \"Produto Exemplo\",\n      \"valorUnitario\": 25.50\n    },\n    \"cliente\": {\n      \"id\": \"2001\",\n      \"nome\": \"Jo√£o Silva\"\n    }\n  }\n]\n```\n\n### 2. GET `/vendas/paginado` - Com Pagina√ß√£o\n\n**Descri√ß√£o:** Endpoint com pagina√ß√£o usando Spring Data. Use quando houver muitos dados (>100 registros).\n\n**Par√¢metros de Query:**\n- `page` (opcional): N√∫mero da p√°gina (come√ßa em 0) - padr√£o: 0\n- `size` (opcional): Tamanho da p√°gina - padr√£o: 20\n- `sortBy` (opcional): Campo para ordena√ß√£o - padr√£o: id\n- `sortDir` (opcional): Dire√ß√£o da ordena√ß√£o (asc/desc) - padr√£o: asc\n\n**Campos dispon√≠veis para ordena√ß√£o:**\n- `id` - ID da venda\n- `dataVenda` - Data da venda\n- `quantidade` - Quantidade vendida\n- `valorUnitario` - Valor unit√°rio\n- `valorTotalVenda` - Valor total da venda\n\n**Exemplos de Uso:**\n```\nGET /vendas/paginado                                    # Primeira p√°gina, 20 itens, ordenado por ID\nGET /vendas/paginado?page=1&size=10                     # Segunda p√°gina, 10 itens\nGET /vendas/paginado?sortBy=id&sortDir=desc             # Ordenado por ID decrescente\nGET /vendas/paginado?sortBy=dataVenda&sortDir=asc       # Ordenado por data crescente\nGET /vendas/paginado?sortBy=valorTotalVenda&sortDir=desc # Ordenado por valor decrescente\nGET /vendas/paginado?page=0&size=5&sortBy=dataVenda     # Personalizado completo\n```\n\n**Resposta (Spring Page):**\n```json\n{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"dataVenda\": \"2025-10-02\",\n      \"quantidade\": 2,\n      \"valorUnitario\": 25.50,\n      \"valorTotalVenda\": 51.00,\n      \"produto\": {\n        \"id\": \"1001\",\n        \"nome\": \"Produto Exemplo\",\n        \"valorUnitario\": 25.50\n      },\n      \"cliente\": {\n        \"id\": \"2001\",\n        \"nome\": \"Jo√£o Silva\"\n      }\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 20,\n    \"sort\": {\n      \"sorted\": true,\n      \"empty\": false\n    }\n  },\n  \"totalElements\": 100,\n  \"totalPages\": 5,\n  \"last\": false,\n  \"first\": true,\n  \"numberOfElements\": 20\n}\n```\n\n### 3. POST `/vendas` - Processar Vendas em Lote\n\n**Descri√ß√£o:** Processa dados vindos do frontend (arquivo .dat parseado).\n\n**Body:** Array de objetos `ItemRequestBody`\n\n**Resposta:** Objeto `VendaResponse` com estat√≠sticas do processamento.\n\n## üìã Exemplos Pr√°ticos\n\n### Frontend JavaScript\n\n**Lista Simples (recomendado para in√≠cio):**\n```javascript\n// Buscar todas as vendas\nconst response = await fetch('/vendas');\nconst vendas = await response.json();\n\nconsole.log(`Total de vendas: ${vendas.length}`);\nvendas.forEach(venda => {\n    console.log(`Venda ${venda.id}: R$ ${venda.valorTotalVenda}`);\n});\n```\n\n**Com Pagina√ß√£o (quando necess√°rio):**\n```javascript\n// Buscar primeira p√°gina\nconst response = await fetch('/vendas/paginado?page=0&size=10');\nconst data = await response.json();\n\nconsole.log(`P√°gina ${data.number + 1} de ${data.totalPages}`);\nconsole.log(`Total de vendas: ${data.totalElements}`);\n\n// Buscar pr√≥xima p√°gina se existir\nif (!data.last) {\n    const nextPage = await fetch(`/vendas/paginado?page=${data.number + 1}&size=10`);\n}\n```\n\n### CURL\n\n```bash\n# Lista simples (para desenvolvimento)\ncurl \"http://localhost:8080/vendas\"\n\n# Com pagina√ß√£o (para produ√ß√£o com muitos dados)\ncurl \"http://localhost:8080/vendas/paginado?page=0&size=5\"\ncurl \"http://localhost:8080/vendas/paginado?sort=valorTotalVenda,desc\"\n```\n\n## üéØ Quando Usar Cada Endpoint\n\n### GET `/vendas` (Lista Simples)\n‚úÖ **Use quando:**\n- Poucos dados (< 100 registros)\n- Desenvolvimento/testes\n- Frontend precisa de todos os dados\n- Simplicidade √© prioridade\n\n### GET `/vendas/paginado` (Com Pagina√ß√£o)\n‚úÖ **Use quando:**\n- Muitos dados (> 100 registros)\n- Performance √© cr√≠tica\n- Frontend tem navega√ß√£o por p√°ginas\n- Produ√ß√£o com grandes volumes\n\n## üöÄ Vantagens da Implementa√ß√£o\n\n‚úÖ **Simplicidade primeiro**: Lista simples para come√ßar\n‚úÖ **Escalabilidade**: Pagina√ß√£o quando necess√°rio\n‚úÖ **Padr√£o Spring**: Usa `Page<T>` nativo sem reinventar a roda\n‚úÖ **Performance otimizada**: Abordagem pragm√°tica baseada no volume de dados\n‚úÖ **F√°cil migra√ß√£o**: Simples trocar de endpoint quando crescer'","timestamp":1759463296400},{"id":"3DbW.ts","source":"Chat Edit: 'agora preciso que voc√™ cria uma URL no .env para conectar √† api e substitua em todos os lugares que tiver a url da api'","timestamp":1759504405701},{"id":"4G4t.ts","source":"Chat Edit: 'agora preciso que voc√™ cria uma URL no .env para conectar √† api e substitua em todos os lugares que tiver a url da api'","timestamp":1759504424649}]}