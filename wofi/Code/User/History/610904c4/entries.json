{"version":1,"resource":"file:///home/monteiro/codes/analysis/main.py","entries":[{"id":"0UN5.py","source":"Chat Edit: 'import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# --- Supondo que o DataFrame 'df' já foi carregado corretamente ---\n# df deve ter as colunas: data_dia (datetime) e total_venda_dia_kg (float)\n\n# 1. Criar colunas auxiliares\ndf[\"dia_semana\"] = df[\"data_dia\"].dt.dayofweek  # 0=segunda, 6=domingo\ndias_nome = [\"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\", \"Dom\"]\ndf[\"nome_dia\"] = df[\"dia_semana\"].apply(lambda x: dias_nome[x])\n\ndf[\"semana\"] = ((df[\"data_dia\"] - df[\"data_dia\"].min()).dt.days // 7) + 1\n\n# -------------------------------------------------------------------------\n# HEATMAP 1: Média de vendas por dia da semana (visão geral)\nvendas_por_dia = df.groupby(\"nome_dia\")[\"total_venda_dia_kg\"].mean()\nvendas_por_dia = vendas_por_dia.reindex(dias_nome)  # garantir ordem correta\nvendas_heatmap = vendas_por_dia.to_frame().T  # virar linha única\n\nplt.figure(figsize=(10, 2))\nsns.heatmap(vendas_heatmap, annot=True, cmap=\"YlOrRd\", fmt=\".2f\", cbar=True)\nplt.title(\"Média de Vendas (kg) por Dia da Semana\")\nplt.yticks([])  # remove o eixo y (já que é uma linha só)\nplt.tight_layout()\nplt.show()\n\n# -------------------------------------------------------------------------\n# HEATMAP 2: Mapa semana × dia da semana (padrão completo)\ntabela = df.pivot_table(index=\"semana\", columns=\"nome_dia\", values=\"total_venda_dia_kg\")\ntabela = tabela[dias_nome]  # garantir ordem dos dias\n\nplt.figure(figsize=(10, 6))\nsns.heatmap(tabela, annot=True, fmt=\".1f\", cmap=\"YlOrRd\", linewidths=0.5, linecolor=\"gray\")\nplt.title(\"Mapa de Calor: Vendas por Semana e Dia da Semana\")\nplt.xlabel(\"Dia da Semana\")\nplt.ylabel(\"Semana (desde início dos dados)\")\nplt.tight_layout()\nplt.show()\n\n\nComo implementar essa logica no item #6. correlação (entre variaveis numericas)'","timestamp":1751376343038}]}