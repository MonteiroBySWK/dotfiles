{"version":1,"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","entries":[{"id":"8bkz.ts","source":"Chat Edit: 'O corpo da resposta não está disponível para scripts (motivo: CORS Missing Allow Origin)\nRequisição cross-origin bloqueada: A diretiva Same Origin (mesma origem) não permite a leitura do recurso remoto em http://localhost:8081/user/register (motivo: falta cabeçalho 'Access-Control-Allow-Origin' no CORS). Código de status: 403.\n\nRequisição cross-origin bloqueada: A diretiva Same Origin (mesma origem) não permite a leitura do recurso remoto em http://localhost:8081/user/register (motivo: falha na requisição CORS). Código de status: (null).\n\nAPI Request failed: TypeError: NetworkError when attempting to fetch resource.'","timestamp":1749950193778},{"id":"MPCx.ts","source":"Chat Edit: 'porque está sendo mandado via options?'","timestamp":1749950495388},{"id":"0kYx.ts","timestamp":1749957374688},{"id":"4r4o.ts","timestamp":1749957392349},{"id":"pYzx.ts","timestamp":1749957451125},{"id":"bKjr.ts","timestamp":1749957637052},{"id":"APY8.ts","timestamp":1749987744071},{"id":"57z3.ts","timestamp":1749989175537},{"id":"pGDA.ts","timestamp":1749989673110},{"id":"nxVf.ts","timestamp":1749989695911},{"id":"aYVO.ts","timestamp":1749990386253},{"id":"PMkP.ts","timestamp":1749990494637},{"id":"HB6A.ts","timestamp":1749990509068},{"id":"zUDH.ts","timestamp":1749991119279},{"id":"DuHH.ts","timestamp":1749991865254},{"id":"6pep.ts","timestamp":1749992445816},{"id":"5vrl.ts","timestamp":1749992609952},{"id":"Qlpv.ts","timestamp":1749992621588},{"id":"u2Tj.ts","timestamp":1749992644907},{"id":"tksp.ts","source":"Chat Edit: 'Termine de intergrar a aplicação com a api, a parte de login e registro já funciona, ele já consegue fazer a requisição SSE, só falta o resto ser conectado no front'","timestamp":1750000747516},{"id":"rrVg.ts","source":"Chat Edit: 'A conexão com http://localhost:3000/api/sse/health-data?employeeId=all foi interrompida durante o carregamento da página. page.js line 95 > eval:36:37\nSSE connection error: \nerror { target: EventSource, isTrusted: true, srcElement: EventSource, currentTarget: EventSource, eventPhase: 2, bubbles: false, cancelable: false, returnValue: true, defaultPrevented: false, composed: false, … }\nintercept-console-error.js:50:32\nInstallTrigger está obsoleto e será removido no futuro. content.js:3:19\nObject { isChrome: false, isFirefox: true }\ncontent.js:5:9\nGET\nhttp://localhost:3000/favicon.ico\n[HTTP/1.1 404 Not Found 5ms]\n\nDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools react-dom-client.development.js:24915:17\nDecoded user ID/Email (from JWT sub): eumonteiro.ofc@gmail.com use-auth.tsx:33:21\nRequest options: \nObject { url: \"http://localhost:8081/user/by-email/eumonteiro.ofc%40gmail.com\", headers: {…}, mode: \"cors\", credentials: \"include\", body: undefined }\napi-client.ts:92:21\nO recurso em “http://localhost:3000/_next/static/media/e4af272ccee01ff0-s.p.woff2” pré-carregado com carga antecipada de link não foi usado em alguns segundos. Verifique se todos os atributos da tag de pré-carregamento estão definidos corretamente. real-time\nXHRGET\nhttp://localhost:8081/employee/page?page=0&size=9\n[HTTP/1.1 403  50ms]\n\nXHRGET\nhttp://localhost:8081/employee/page?page=0&size=9\n[HTTP/1.1 403  49ms]\n\nAPI Error: \nObject { message: \"Request failed with status code 403\", name: \"AxiosError\", code: \"ERR_BAD_REQUEST\", config: {…}, request: XMLHttpRequest, response: {…}, status: 403, stack: \"\", Symbol(\"next.console.error.digest\"): \"NEXT_UNHANDLED_ERROR\", Symbol(\"next.console.error.type\"): \"error\", … }\nintercept-console-error.js:50:32\nError fetching employees: TypeError: response is null\n    fetchEmployees webpack-internal:///(app-pages-browser)/./app/dashboard/employees/page.tsx:36\n    useEffect webpack-internal:///(app-pages-browser)/./app/dashboard/employees/page.tsx:48\n    frame webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:24036\n    runWithFiberInDEV webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:1514\n    commitHookEffectListMount webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:10515\n    commitHookPassiveMountEffects webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:10636\nintercept-console-error.js:50:32\nAPI Error: \nObject { message: \"Request failed with status code 403\", name: \"AxiosError\", code: \"ERR_BAD_REQUEST\", config: {…}, request: XMLHttpRequest, response: {…}, status: 403, stack: \"\", Symbol(\"next.console.error.digest\"): \"NEXT_UNHANDLED_ERROR\", Symbol(\"next.console.error.type\"): \"error\", … }\nintercept-console-error.js:50:32\nError fetching employees: TypeError: response is null\n    fetchEmployees webpack-internal:///(app-pages-browser)/./app/dashboard/employees/page.tsx:36\n    useEffect webpack-internal:///(app-pages-browser)/./app/dashboard/employees/page.tsx:48\n    frame webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:24036\n    runWithFiberInDEV webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:1514\n    commitHookEffectListMount webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:10515\n    commitHookPassiveMountEffects webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/cjs/react-dom-client.development.js:10636\nintercept-console-error.js:50:32\n[Fast Refresh] rebuilding hot-reloader-client.js:242:25\n[Fast Refresh] done in 997ms hot-reloader-client.js:74:13\n'","timestamp":1750002141296},{"id":"L0Ts.ts","source":"Chat Edit: 'API Error: \nObject { message: \"Request failed with status code 403\", name: \"AxiosError\", code: \"ERR_BAD_REQUEST\", config: {…}, request: XMLHttpRequest, response: {…}, status: 403, stack: \"\", Symbol(\"next.console.error.digest\"): \"NEXT_UNHANDLED_ERROR\", Symbol(\"next.console.error.type\"): \"error\", … }\nintercept-console-error.ts:41:25\n\nXHRGET\nhttp://localhost:8081/employee/page?page=0&size=9\n[HTTP/1.1 403  18ms]\n\n'","timestamp":1750003542964},{"id":"SHqm.ts","source":"Chat Edit: 'SSE connection error: \nObject { type: \"error\", target: {…}, error: TypeError }\nintercept-console-error.js:50:32\nestou tendo isso na rota dashboard'","timestamp":1750006648094},{"id":"zYOd.ts","timestamp":1750006989395},{"id":"83Ea.ts","source":"Chat Edit: 'seguinte, agora eu vou pedir pra uma url não mais em localhost:8081, agora eu vou pedir em vitaport-production.up.railway.app, mude isso em todo o proejto'","timestamp":1750008876377},{"id":"wwIO.ts","source":"Chat Edit: 'Login failed: \nObject { message: \"Request failed with status code 403\", name: \"AxiosError\", code: \"ERR_BAD_REQUEST\", config: {…}, request: XMLHttpRequest, response: {…}, status: 403, stack: \"\", … }\n303-a9a837f0527b1852.js:1:107914\n    NextJS 27\n'","timestamp":1750009397194},{"id":"p7UI.ts","source":"Chat Edit: 'ainda recebo 403'","timestamp":1750009684250},{"id":"LBpm.ts","source":"Chat Edit: 'ainda recebo 403'","timestamp":1750009701626},{"id":"0fa2.ts","source":"Chat Edit: 'ainda recebo 403'","timestamp":1750009717989},{"id":"cZjj.ts","timestamp":1750009783538},{"id":"o30c.ts","source":"Chat Edit: 'observe as documentação da api que estou consultando, ligue corretamente e tambem atenda aos token jwt já bem definidos. Há um problema na hora de puxar todos os employe, ele simplismante ta redirecionando para o login. Preciso que os erros de formularios de login/register sejam avisados no tela, no caso o que vem do back. Quero que os dados seja alimentados pela prorpia API.'","timestamp":1750010137474},{"id":"z5sL.ts","source":"Chat Edit: 'observe as documentação da api que estou consultando, ligue corretamente e tambem atenda aos token jwt já bem definidos. Há um problema na hora de puxar todos os employe, ele simplismante ta redirecionando para o login. Preciso que os erros de formularios de login/register sejam avisados no tela, no caso o que vem do back. Quero que os dados seja alimentados pela prorpia API.'","timestamp":1750010188341},{"id":"bsVY.ts","source":"Chat Edit: 'corrija isso'","timestamp":1750010305519},{"id":"ZNbJ.ts","source":"Chat Edit: 'Voce quebrou a parte de login, agora eu recebo 403, volte a fazer funcionar'","timestamp":1750010748280},{"id":"b52Z.ts","source":"Chat Edit: '   Skipping validation of types\n   Skipping linting\n   Collecting page data ...\n   Generating static pages (0/17) ...\nError occurred prerendering page \"/dashboard/activity\". Read more: https://nextjs.org/docs/messages/prerender-error\nTypeError: (0 , T.withAuth) is not a function\n    at 82571 (/vercel/path0/.next/server/chunks/433.js:1:8402)\n    at Object.t [as require] (/vercel/path0/.next/server/webpack-runtime.js:1:143)\n    at require (/vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:133:10079)\n    at u (/vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:646)\n    at U (/vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:10492)\n    at W (/vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:13199)\n    at /vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:15489\n    at Z._fromJSON (/vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:15523)\n    at JSON.parse (<anonymous>)\n    at L (/vercel/path0/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:92:10216)\nExport encountered an error on /dashboard/activity/page: /dashboard/activity, exiting the build.\n ⨯ Next.js build worker exited with code: 1 and signal: null\nError: Command \"npm run build\" exited with 1\nExiting build container\n'","timestamp":1750011040471},{"id":"Qnxg.ts","source":"Chat Edit: 'no login:\nXHRGET\nhttps://vitaport-production.up.railway.app/user/eumonteiro.ofc@gmail.com\n[HTTP/2 403  160ms]\n\n\t\nGET\n\thttps://vitaport-production.up.railway.app/user/eumonteiro.ofc@gmail.com\nStatus\n403\nVersãoHTTP/2\nTransferido549 B (tamanho 0 B)\nReferrer Policystrict-origin-when-cross-origin\nResolução de DNSSistema\n\n    \t\n    access-control-allow-credentials\n    \ttrue\n    access-control-allow-origin\n    \thttps://vitaport-ten.vercel.app\n    cache-control\n    \tno-cache, no-store, max-age=0, must-revalidate\n    content-length\n    \t0\n    date\n    \tSun, 15 Jun 2025 18:15:44 GMT\n    expires\n    \t0\n    pragma\n    \tno-cache\n    server\n    \trailway-edge\n    vary\n    \tOrigin\n    vary\n    \tAccess-Control-Request-Method\n    vary\n    \tAccess-Control-Request-Headers\n    x-content-type-options\n    \tnosniff\n    X-Firefox-Spdy\n    \th2\n    x-frame-options\n    \tDENY\n    x-railway-edge\n    \trailway/us-east4-eqdc4a\n    x-railway-request-id\n    \tptYa2h-pTzyBY_Xwg4a9AQ\n    x-xss-protection\n    \t0\n    \t\n    Accept\n    \tapplication/json, text/plain, */*\n    Accept-Encoding\n    \tgzip, deflate, br, zstd\n    Accept-Language\n    \tpt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3\n    Authorization\n    \tBearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ2aXRhcG9ydC5hcGkiLCJzdWIiOiJldW1vbnRlaXJvLm9mY0BnbWFpbC5jb20iLCJleHAiOjE3NTAwMjkzNDR9.RERvgg8JAsbDnuj-9h7yockdKH7D3CSphKLH5LX8fiE\n    Connection\n    \tkeep-alive\n    Host\n    \tvitaport-production.up.railway.app\n    Origin\n    \thttps://vitaport-ten.vercel.app\n    Referer\n    \thttps://vitaport-ten.vercel.app/\n    Sec-Fetch-Dest\n    \tempty\n    Sec-Fetch-Mode\n    \tcors\n    Sec-Fetch-Site\n    \tcross-site\n    TE\n    \ttrailers\n    User-Agent\n    \tMozilla/5.0 (X11; Linux x86_64; rv:139.0) Gecko/20100101 Firefox/139.0'","timestamp":1750011405680},{"id":"ZPOY.ts","source":"Chat Edit: 'olha da um jeito de transformar isso em isso:\n\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { RealTimeHeartRateChart } from \"@/components/real-time-heart-rate-chart\"\nimport { RealTimeDashboardOverview } from \"@/components/real-time-dashboard-overview\"\nimport { mockEmployees } from \"@/lib/mock-data\"\n\nexport default function RealTimePage() {\n  const [selectedEmployee, setSelectedEmployee] = useState<string>(\"emp-001\")\n\n  const employee = mockEmployees.find((emp) => emp.id === selectedEmployee)\n\n  return (\n    <div className=\"flex-1 space-y-4 p-4 md:p-8 pt-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-3xl font-bold tracking-tight\">Real-Time Monitoring</h2>\n        <Select value={selectedEmployee} onValueChange={setSelectedEmployee}>\n          <SelectTrigger className=\"w-[200px]\">\n            <SelectValue placeholder=\"Select employee\" />\n          </SelectTrigger>\n          <SelectContent>\n            {mockEmployees\n              .filter((emp) => emp.status === \"Active\")\n              .map((emp) => (\n                <SelectItem key={emp.id} value={emp.id}>\n                  {emp.name}\n                </SelectItem>\n              ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Overview Section */}\n      <RealTimeDashboardOverview />\n\n      {/* Individual Employee Monitoring */}\n      {employee && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Individual Employee Monitoring</CardTitle>\n            <CardDescription>Detailed real-time health monitoring for {employee.name}</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <RealTimeHeartRateChart employeeId={employee.id} employeeName={employee.name} maxDataPoints={30} />\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n'","timestamp":1750012144132}]}