{"version":2,"sessionId":"de3ca7e4-84b3-4e63-bc79-789d22a650f4","linearHistory":[{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","stops":[{"entries":[]},{"stopId":"f5da1494-3677-4a86-8951-2f33c400732c","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"ea5efd2","currentHash":"ea5efd2","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_700e6f8f-33d6-42cb-85f3-ef3fcca39204%22%2C%22undoStop%22%3A%22f5da1494-3677-4a86-8951-2f33c400732c%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]},{"stopId":"30da7560-37a6-4a81-b6f9-dc3672d8b106","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"99e0111","currentHash":"99e0111","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_700e6f8f-33d6-42cb-85f3-ef3fcca39204%22%2C%22undoStop%22%3A%2230da7560-37a6-4a81-b6f9-dc3672d8b106%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]},{"stopId":"1a993c47-6e32-4cb9-91c8-9743088e177e","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"ea5efd2","currentHash":"dfd47d9","originalToCurrentEdit":[{"txt":"// Create axios instance with interceptors\nconst","pos":2550,"len":34},{"txt":"","pos":2613,"len":43},{"txt":"","pos":2674,"len":4},{"txt":"","pos":2703,"len":4},{"txt":"","pos":2720,"len":4},{"txt":"","pos":2764,"len":38},{"txt":"","pos":2802,"len":4},{"txt":"","pos":2811,"len":4},{"txt":"","pos":2820,"len":4},{"txt":" to add token\n","pos":2846,"len":10},{"txt":"","pos":2896,"len":4},{"txt":"","pos":2916,"len":4},{"txt":"","pos":2969,"len":4},{"txt":"","pos":2990,"len":4},{"txt":".","pos":3014,"len":2},{"txt":"","pos":3029,"len":2},{"txt":"","pos":3053,"len":4},{"txt":"","pos":3063,"len":4},{"txt":"","pos":3086,"len":4},{"txt":"","pos":3095,"len":4},{"txt":"","pos":3114,"len":4},{"txt":"","pos":3152,"len":4},{"txt":"","pos":3160,"len":4},{"txt":"","pos":3168,"len":4},{"txt":" to handle errors\n","pos":3195,"len":10},{"txt":"","pos":3246,"len":4},{"txt":"","pos":3276,"len":4},{"txt":"    if (error.response) {\n      // Handle specific error cases\n      switch (error.response.status) {\n        case 401:\n          localStorage.removeItem(\"token\");\n          window.location.href = \"/login\";\n  ","pos":3295,"len":31},{"txt":"new Error(\"Sua sessão expirou. Por favor, faça login novamente.\"));\n        case 403:\n          return Promise.reject(new Error(\"Você não tem permissão para realizar esta ação.\"));\n        case 422:\n          // Validation errors\n          const validationErrors = error.response.data.errors;\n          if (validationErrors) {\n            return Promise.reject(new Error(Object.values(validationErrors).join(\", \")));\n          }\n          break;\n        case 500:\n          return Promise.reject(new Error(\"Erro interno do servidor. Tente novamente mais tarde.\"));\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport const apiClient = {\n  // Auth endpoints\n  async login(data: LoginUserDTO): Promise<TokenDTO> {\n","pos":3356,"len":314},{"txt":"","pos":3709,"len":5},{"txt":"post<TokenDTO>(\"/user/login\", data","pos":3728,"len":11},{"txt":"","pos":3754,"len":8},{"txt":"","pos":3776,"len":2},{"txt":": any","pos":3798,"len":0},{"txt":"throw new Error(","pos":3808,"len":28},{"txt":"r.message || \"Erro ao fazer login\")","pos":3840,"len":18},{"txt":",","pos":3869,"len":0},{"txt":"register(data: RegisterUserDTO","pos":3879,"len":31},{"txt":"CreatedUserDTO","pos":3921,"len":11},{"txt":"","pos":3975,"len":5},{"txt":"CreatedUserDTO>(\"/user/register\"","pos":3999,"len":7},{"txt":"","pos":4027,"len":8},{"txt":"","pos":4049,"len":2},{"txt":": any","pos":4071,"len":0},{"txt":"      throw new Error(error.message || \"Erro ao registrar usuário\");\n    }\n  },\n\n  // Employee endpoints\n  async getEmployees() {\n    try {\n      const response = await axiosInstance.get<ReadEmployeeDTO[]>(\"/employee/list\");\n      return response.data;\n    } catch (","pos":4075,"len":34},{"txt":"r: any) {","pos":4113,"len":0},{"txt":"new E","pos":4126,"len":1},{"txt":"(error.message || \"Erro ao buscar funcionários\")","pos":4131,"len":0},{"txt":"  },\n\n  async getEmployeeById(id: string) {\n    try {\n      const response = await axiosInstance.get<ReadEmployeeDTO>(`/employee/${id}`);\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao buscar funcionário\");\n    }\n  },\n\n  async registerEmployee(data: RegisterEmployeeDTO): Promise<CreatedEmployeeDTO> {\n    try {\n      const response = await axiosInstance.post<CreatedEmployeeDTO>(\"/employee/register\", data);\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao registrar funcionário\");\n    }\n  },\n  // ...existing code...\n","pos":4139,"len":242}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_700e6f8f-33d6-42cb-85f3-ef3fcca39204%22%2C%22undoStop%22%3A%221a993c47-6e32-4cb9-91c8-9743088e177e%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]},{"stopId":"6abb6747-9331-49e2-8c36-143b7fe01a1c","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"6bd1895","currentHash":"6bd1895","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_700e6f8f-33d6-42cb-85f3-ef3fcca39204%22%2C%22undoStop%22%3A%226abb6747-9331-49e2-8c36-143b7fe01a1c%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"6bd1895","currentHash":"249891c","originalToCurrentEdit":[{"txt":"\"use client\";","pos":0,"len":13},{"txt":"import { LoginUserDTO } from \"@/lib/types\";","pos":15,"len":43},{"txt":"import { useAuth } from \"@/hooks/use-auth\";","pos":59,"len":43},{"txt":"import { useRouter } from \"next/navigation\";","pos":103,"len":44},{"txt":"import { useEffect, useState } from \"react\";","pos":148,"len":34},{"txt":"import Link from \"next/link\";","pos":183,"len":29},{"txt":"import { Button } from \"@/components/ui/button\";","pos":213,"len":48},{"txt":"import { Input } from \"@/components/ui/input\";","pos":262,"len":46},{"txt":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";","pos":309,"len":80},{"txt":"import { Alert, AlertDescription } from \"@/components/ui/alert\";","pos":390,"len":0},{"txt":"","pos":391,"len":37},{"txt":"export default function LoginPage() {","pos":429,"len":47},{"txt":"  const { login, user, isLoading } = useAuth();","pos":477,"len":29},{"txt":"  const router = useRouter();","pos":507,"len":0},{"txt":"  const [error, setError] = useState<string>(\"\");","pos":508,"len":19},{"txt":"  const [isSubmitting, setIsSubmitting] = useState(false);","pos":528,"len":29},{"txt":"","pos":558,"len":35},{"txt":"  useEffect(() => {","pos":594,"len":5},{"txt":"    if (user && !isLoading) {","pos":600,"len":32},{"txt":"      router.replace(\"/dashboard\");","pos":633,"len":0},{"txt":"    }","pos":634,"len":71},{"txt":"  }, [user, isLoading, router]);","pos":706,"len":23},{"txt":"","pos":730,"len":51},{"txt":"  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {","pos":782,"len":32},{"txt":"    e.preventDefault();","pos":815,"len":45},{"txt":"    setError(\"\");","pos":861,"len":51},{"txt":"    setIsSubmitting(true);","pos":913,"len":6},{"txt":"","pos":920,"len":22},{"txt":"    const formData = new FormData(e.currentTarget);","pos":943,"len":4},{"txt":"    const email = formData.get(\"email\") as string;","pos":948,"len":0},{"txt":"    const password = formData.get(\"password\") as string;","pos":949,"len":26},{"txt":"","pos":976,"len":12},{"txt":"    // Basic validation","pos":989,"len":69},{"txt":"    if (!email || !password) {","pos":1059,"len":55},{"txt":"      setError(\"Por favor, preencha todos os campos\");","pos":1115,"len":12},{"txt":"      setIsSubmitting(false);","pos":1128,"len":6},{"txt":"      return;","pos":1135,"len":3},{"txt":"    }","pos":1139,"len":0},{"txt":"","pos":1140,"len":10},{"txt":"    try {","pos":1151,"len":71},{"txt":"      await login({ email, password });","pos":1223,"len":40},{"txt":"    } catch (err: any) {","pos":1264,"len":20},{"txt":"      setError(err.message || \"Ocorreu um erro ao fazer login\");","pos":1285,"len":71},{"txt":"    } finally {","pos":1357,"len":21},{"txt":"      setIsSubmitting(false);","pos":1379,"len":21},{"txt":"    }","pos":1401,"len":62},{"txt":"  };","pos":1464,"len":39},{"txt":"","pos":1504,"len":50},{"txt":"  if (isLoading || user) {","pos":1555,"len":20},{"txt":"    return (","pos":1576,"len":26},{"txt":"      <div className=\"min-h-screen flex items-center justify-center\">","pos":1603,"len":28},{"txt":"        <div className=\"animate-pulse\">Carregando...</div>","pos":1632,"len":28},{"txt":"      </div>","pos":1661,"len":24},{"txt":"    );","pos":1686,"len":46},{"txt":"  }","pos":1733,"len":16},{"txt":"","pos":1750,"len":18},{"txt":"  return (","pos":1769,"len":39},{"txt":"    <div className=\"min-h-screen flex items-center justify-center p-4\">","pos":1809,"len":56},{"txt":"      <Card className=\"w-full max-w-md\">","pos":1866,"len":20},{"txt":"        <CardHeader>","pos":1887,"len":29},{"txt":"          <CardTitle className=\"text-2xl text-center\">Login</CardTitle>","pos":1917,"len":31},{"txt":"        </CardHeader>","pos":1949,"len":31},{"txt":"        <CardContent>","pos":1981,"len":24},{"txt":"          {error && (","pos":2006,"len":49},{"txt":"            <Alert variant=\"destructive\" className=\"mb-4\">","pos":2056,"len":16},{"txt":"              <AlertDescription>{error}</AlertDescription>","pos":2073,"len":18},{"txt":"            </Alert>","pos":2092,"len":53},{"txt":"          )}","pos":2146,"len":19},{"txt":"          <form onSubmit={handleSubmit} className=\"space-y-4\">","pos":2166,"len":21},{"txt":"            <div className=\"space-y-2\">","pos":2188,"len":47},{"txt":"              <label htmlFor=\"email\" className=\"text-sm font-medium\">","pos":2236,"len":46},{"txt":"                Email","pos":2283,"len":79},{"txt":"              </label>","pos":2363,"len":29},{"txt":"              <Input","pos":2393,"len":21},{"txt":"                id=\"email\"","pos":2415,"len":16},{"txt":"                name=\"email\"","pos":2432,"len":17},{"txt":"                type=\"email\"","pos":2450,"len":22},{"txt":"                placeholder=\"seu@email.com\"","pos":2473,"len":13},{"txt":"                required","pos":2487,"len":10},{"txt":"                disabled={isSubmitting}","pos":2498,"len":4},{"txt":"              />","pos":2503,"len":1},{"txt":"            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"password\" className=\"text-sm font-medium\">\n                Senha\n              </label>\n              <Input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"••••••••\"\n                required\n                disabled={isSubmitting}\n              />\n            </div>\n            <Button\n              type=\"submit\"\n              className=\"w-full\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? \"Entrando...\" : \"Entrar\"}\n            </Button>\n            <p className=\"text-sm text-center text-muted-foreground\">\n              Não tem uma conta?{\" \"}\n              <Link href=\"/register\" className=\"text-primary hover:underline\">\n                Registre-se\n              </Link>\n            </p>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","pos":2505,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_700e6f8f-33d6-42cb-85f3-ef3fcca39204%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_57bf94c7-9b3c-42e9-9637-a63f3bec4393","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"887f9f8","currentHash":"887f9f8","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_57bf94c7-9b3c-42e9-9637-a63f3bec4393%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"b337688","currentHash":"b337688","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_57bf94c7-9b3c-42e9-9637-a63f3bec4393%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_57bf94c7-9b3c-42e9-9637-a63f3bec4393%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]},{"stopId":"38d058ce-e03c-4cfb-85a2-be0ec36c0dfd","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"887f9f8","currentHash":"887f9f8","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_57bf94c7-9b3c-42e9-9637-a63f3bec4393%22%2C%22undoStop%22%3A%2238d058ce-e03c-4cfb-85a2-be0ec36c0dfd%22%7D","telemetryInfo":{"requestId":"request_57bf94c7-9b3c-42e9-9637-a63f3bec4393","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"887f9f8","currentHash":"5cfecaf","originalToCurrentEdit":[{"txt":"import axios, { AxiosInstance } from \"axios\";","pos":0,"len":45},{"txt":"import { toast } from \"sonner\";","pos":46,"len":31},{"txt":"// API Base Configuration","pos":79,"len":25},{"txt":"const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"https://vitaport-production.up.railway.app\";","pos":105,"len":101},{"txt":"// Types based on API documentation","pos":208,"len":35},{"txt":"export interface RegisterUserDTO {","pos":244,"len":34},{"txt":"  name: string;","pos":279,"len":15},{"txt":"  email: string;","pos":295,"len":16},{"txt":"  password: string;","pos":312,"len":19},{"txt":"  role: \"employee\" | \"data_analyst\" | \"system_manager\";","pos":332,"len":55},{"txt":"}","pos":388,"len":1},{"txt":"export interface CreatedUserDTO {","pos":391,"len":33},{"txt":"  id: string;","pos":425,"len":13},{"txt":"  name: string;","pos":439,"len":15},{"txt":"  email: string;","pos":455,"len":16},{"txt":"}","pos":472,"len":1},{"txt":"export interface LoginUserDTO {","pos":475,"len":31},{"txt":"  email: string;","pos":507,"len":16},{"txt":"  password: string;","pos":524,"len":19},{"txt":"}","pos":544,"len":1},{"txt":"export interface TokenDTO {","pos":547,"len":27},{"txt":"  tokenJWT: string;","pos":575,"len":19},{"txt":"}","pos":595,"len":1},{"txt":"export interface ReadUserDTO {","pos":598,"len":30},{"txt":"  id: string;","pos":629,"len":13},{"txt":"  name: string;","pos":643,"len":15},{"txt":"  email: string;","pos":659,"len":16},{"txt":"  userRole: \"EMPLOYEE\" | \"DATA_ANALYST\" | \"SYSTEM_MANAGER\";","pos":676,"len":59},{"txt":"  active: boolean;","pos":736,"len":18},{"txt":"}","pos":755,"len":1},{"txt":"export interface RegisterEmployeeDTO {","pos":758,"len":38},{"txt":"  user_id: string;","pos":797,"len":18},{"txt":"  registrationNumber: string;","pos":816,"len":29},{"txt":"  cpf: string;","pos":846,"len":14},{"txt":"  fullName: string;","pos":861,"len":19},{"txt":"  socialName: string;","pos":881,"len":21},{"txt":"}","pos":903,"len":1},{"txt":"export interface CreatedEmployeeDTO {","pos":906,"len":37},{"txt":"  id: string;","pos":944,"len":13},{"txt":"  user_id: string;","pos":958,"len":18},{"txt":"  registrationNumber: string;","pos":977,"len":29},{"txt":"  cpf: string;","pos":1007,"len":14},{"txt":"  fullName: string;","pos":1022,"len":19},{"txt":"  socialName: string;","pos":1042,"len":21},{"txt":"}","pos":1064,"len":1},{"txt":"export interface ReadEmployeeDTO {","pos":1067,"len":34},{"txt":"  id: string;","pos":1102,"len":13},{"txt":"  user: ReadUserDTO;","pos":1116,"len":20},{"txt":"  registrationNumber: string;","pos":1137,"len":29},{"txt":"  cpf: string;","pos":1167,"len":14},{"txt":"  fullName: string;","pos":1182,"len":19},{"txt":"  socialName: string;","pos":1202,"len":21},{"txt":"  healthCarePages: ReadHealthDataDTO[];","pos":1224,"len":39},{"txt":"}","pos":1264,"len":1},{"txt":"export interface RegisterHealthDataDTO {","pos":1267,"len":40},{"txt":"  employee_id: string;","pos":1308,"len":22},{"txt":"  bpm: number;","pos":1331,"len":14},{"txt":"  spo2?: number;","pos":1346,"len":16},{"txt":"  ecgSignal?: string;","pos":1363,"len":21},{"txt":"  sleepDuration?: number;","pos":1385,"len":25},{"txt":"  sleepQuality?: string;","pos":1411,"len":24},{"txt":"  stressLevel?: number;","pos":1436,"len":23},{"txt":"  steps?: number;","pos":1460,"len":17},{"txt":"  distanceM?: number;","pos":1478,"len":21},{"txt":"  calories?: number;","pos":1500,"len":20},{"txt":"  bpSystolic?: number;","pos":1521,"len":22},{"txt":"  bpDiastolic?: number;","pos":1544,"len":23},{"txt":"  skinTemp?: number;","pos":1568,"len":20},{"txt":"  timestamp: string;","pos":1589,"len":20},{"txt":"}","pos":1610,"len":1},{"txt":"export interface ReadHealthDataDTO {","pos":1613,"len":36},{"txt":"  healthdata_id: string;","pos":1650,"len":24},{"txt":"  employee_id: string;","pos":1675,"len":22},{"txt":"  bpm: number;","pos":1698,"len":14},{"txt":"  spo2?: number;","pos":1713,"len":16},{"txt":"  ecgSignal?: string;","pos":1730,"len":21},{"txt":"  sleepDuration?: number;","pos":1752,"len":25},{"txt":"  sleepQuality?: \"POOR\" | \"AVERAGE\" | \"GOOD\" | \"EXCEPTIONAL\";","pos":1778,"len":61},{"txt":"  stressLevel?: number;","pos":1840,"len":23},{"txt":"  steps?: number;","pos":1864,"len":17},{"txt":"  distanceM?: number;","pos":1882,"len":21},{"txt":"  calories?: number;","pos":1904,"len":20},{"txt":"  bpSystolic?: number;","pos":1925,"len":22},{"txt":"  bpDiastolic?: number;","pos":1948,"len":23},{"txt":"  skinTemp?: number;","pos":1972,"len":20},{"txt":"  timestamp: string;","pos":1993,"len":20},{"txt":"}","pos":2014,"len":1},{"txt":"export interface CreatedHealthDataDTO extends ReadHealthDataDTO {}","pos":2017,"len":66},{"txt":"// API Error types","pos":2085,"len":18},{"txt":"export interface APIError {","pos":2104,"len":27},{"txt":"  message: string;","pos":2132,"len":18},{"txt":"  status: number;","pos":2151,"len":17},{"txt":"  details?: any;","pos":2169,"len":16},{"txt":"}","pos":2186,"len":1},{"txt":"export const handleAPIError = (error: any) => {","pos":2189,"len":47},{"txt":"  console.error(\"API Error: \", error);","pos":2237,"len":38},{"txt":"  const message =","pos":2276,"len":17},{"txt":"    error.response?.data?.message || error.message || \"An error occurred\";","pos":2294,"len":74},{"txt":"  toast.error(message);","pos":2369,"len":23},{"txt":"  if (error.response?.status === 401 || error.response?.status === 403) {","pos":2393,"len":73},{"txt":"    localStorage.removeItem(\"token\");","pos":2467,"len":37},{"txt":"    window.location.href = \"/login\";","pos":2505,"len":36},{"txt":"  }","pos":2542,"len":3},{"txt":"};","pos":2546,"len":2},{"txt":"// Create axios instance with interceptors","pos":2550,"len":42},{"txt":"const axiosInstance: AxiosInstance = axios.create({","pos":2593,"len":51},{"txt":"  baseURL: API_BASE_URL,","pos":2645,"len":24},{"txt":"  headers: {","pos":2670,"len":12},{"txt":"    \"Content-Type\": \"application/json\",","pos":2683,"len":39},{"txt":"  },","pos":2723,"len":4},{"txt":"});","pos":2728,"len":3},{"txt":"// Request interceptor to add token","pos":2733,"len":35},{"txt":"axiosInstance.interceptors.request.use(","pos":2769,"len":39},{"txt":"  (config) => {","pos":2809,"len":15},{"txt":"    const token = localStorage.getItem(\"token\");","pos":2825,"len":48},{"txt":"    if (token) {","pos":2874,"len":16},{"txt":"      config.headers.Authorization = `Bearer ${token}`;","pos":2891,"len":55},{"txt":"    }","pos":2947,"len":5},{"txt":"    return config;","pos":2953,"len":18},{"txt":"  },","pos":2972,"len":4},{"txt":"  (error) => {","pos":2977,"len":14},{"txt":"    return Promise.reject(error);","pos":2992,"len":33},{"txt":"  }","pos":3026,"len":3},{"txt":");","pos":3030,"len":2},{"txt":"// Response interceptor to handle errors","pos":3034,"len":40},{"txt":"axiosInstance.interceptors.response.use(","pos":3075,"len":40},{"txt":"  (response) => response,","pos":3116,"len":25},{"txt":"  (error) => {","pos":3142,"len":14},{"txt":"    if (error.response) {","pos":3157,"len":25},{"txt":"      // Handle specific error cases","pos":3183,"len":36},{"txt":"      switch (error.response.status) {","pos":3220,"len":38},{"txt":"        case 401:","pos":3259,"len":17},{"txt":"          localStorage.removeItem(\"token\");","pos":3277,"len":43},{"txt":"          window.location.href = \"/login\";","pos":3321,"len":42},{"txt":"          return Promise.reject(new Error(\"Sua sessão expirou. Por favor, faça login novamente.\"));","pos":3364,"len":99},{"txt":"        case 403:","pos":3464,"len":17},{"txt":"          return Promise.reject(new Error(\"Você não tem permissão para realizar esta ação.\"));","pos":3482,"len":94},{"txt":"        case 422:","pos":3577,"len":17},{"txt":"          // Validation errors","pos":3595,"len":30},{"txt":"          const validationErrors = error.response.data.errors;","pos":3626,"len":62},{"txt":"          if (validationErrors) {","pos":3689,"len":33},{"txt":"            return Promise.reject(new Error(Object.values(validationErrors).join(\", \")));","pos":3723,"len":89},{"txt":"          }","pos":3813,"len":11},{"txt":"          break;","pos":3825,"len":16},{"txt":"        case 500:","pos":3842,"len":17},{"txt":"          return Promise.reject(new Error(\"Erro interno do servidor. Tente novamente mais tarde.\"));","pos":3860,"len":100},{"txt":"      }","pos":3961,"len":7},{"txt":"    }","pos":3969,"len":5},{"txt":"    return Promise.reject(error);","pos":3975,"len":33},{"txt":"  }","pos":4009,"len":3},{"txt":");","pos":4013,"len":2},{"txt":"export const apiClient = {","pos":4017,"len":26},{"txt":"  // Auth endpoints","pos":4044,"len":19},{"txt":"  async login(data: LoginUserDTO): Promise<TokenDTO> {","pos":4064,"len":54},{"txt":"    try {","pos":4119,"len":9},{"txt":"      const response = await axiosInstance.post<TokenDTO>(\"/user/login\", data);","pos":4129,"len":79},{"txt":"      return response.data;","pos":4209,"len":27},{"txt":"    } catch (error: any) {","pos":4237,"len":26},{"txt":"      throw new Error(error.message || \"Erro ao fazer login\");","pos":4264,"len":62},{"txt":"    }","pos":4327,"len":5},{"txt":"  },","pos":4333,"len":4},{"txt":"  async register(data: RegisterUserDTO): Promise<CreatedUserDTO> {","pos":4339,"len":66},{"txt":"    try {","pos":4406,"len":9},{"txt":"      const response = await axiosInstance.post<CreatedUserDTO>(\"/user/register\", data);","pos":4416,"len":88},{"txt":"      return response.data;","pos":4505,"len":27},{"txt":"    } catch (error: any) {","pos":4533,"len":26},{"txt":"      throw new Error(error.message || \"Erro ao registrar usuário\");","pos":4560,"len":68},{"txt":"    }","pos":4629,"len":5},{"txt":"  },","pos":4635,"len":4},{"txt":"  // User endpoints","pos":4641,"len":19},{"txt":"  async getUserData(id: string): Promise<ReadUserDTO> {","pos":4661,"len":55},{"txt":"    try {","pos":4717,"len":9},{"txt":"      const response = await axiosInstance.get<ReadUserDTO>(`/user/${id}`);","pos":4727,"len":75},{"txt":"      return response.data;","pos":4803,"len":27},{"txt":"    } catch (error: any) {","pos":4831,"len":26},{"txt":"      throw new Error(error.message || \"Erro ao buscar dados do usuário\");","pos":4858,"len":74},{"txt":"    }","pos":4933,"len":5},{"txt":"  },","pos":4939,"len":4},{"txt":"  // Employee endpoints","pos":4945,"len":23},{"txt":"  async getEmployees() {","pos":4969,"len":24},{"txt":"    try {","pos":4994,"len":9},{"txt":"      const response = await axiosInstance.get<ReadEmployeeDTO[]>(\"/employee/list\");","pos":5004,"len":84},{"txt":"      return response.data;","pos":5089,"len":27},{"txt":"    } catch (error: any) {","pos":5117,"len":26},{"txt":"      throw new Error(error.message || \"Erro ao buscar funcionários\");","pos":5144,"len":70},{"txt":"    }","pos":5215,"len":5},{"txt":"  },","pos":5221,"len":4},{"txt":"  async getEmployeeById(id: string) {","pos":5227,"len":37},{"txt":"    try {","pos":5265,"len":9},{"txt":"      const response = await axiosInstance.get<ReadEmployeeDTO>(`/employee/${id}`);","pos":5275,"len":83},{"txt":"      return response.data;","pos":5359,"len":27},{"txt":"    } catch (error: any) {","pos":5387,"len":26},{"txt":"      throw new Error(error.message || \"Erro ao buscar funcionário\");","pos":5414,"len":69},{"txt":"    }","pos":5484,"len":5},{"txt":"  },","pos":5490,"len":4},{"txt":"  async registerEmployee(data: RegisterEmployeeDTO): Promise<CreatedEmployeeDTO> {","pos":5496,"len":82},{"txt":"    try {","pos":5579,"len":9},{"txt":"      const response = await axiosInstance.post<CreatedEmployeeDTO>(\"/employee/register\", data);","pos":5589,"len":96},{"txt":"      return response.data;","pos":5686,"len":27},{"txt":"    } catch (error: any) {","pos":5714,"len":26},{"txt":"      throw new Error(error.message || \"Erro ao registrar funcionário\");","pos":5741,"len":72},{"txt":"    }","pos":5814,"len":5},{"txt":"  },","pos":5820,"len":4},{"txt":"","pos":5825,"len":24},{"txt":"  // Health Data endpoints\n  async registerHealthData(data: RegisterHealthDataDTO): Promise<CreatedHealthDataDTO> {\n    try {\n      const response = await axiosInstance.post<CreatedHealthDataDTO>(\"/healthdata/register\", data);\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao registrar dados de saúde\");\n    }\n  },\n\n  async getHealthData(id: string): Promise<ReadHealthDataDTO> {\n    try {\n      const response = await axiosInstance.get<ReadHealthDataDTO>(`/healthdata/${id}`);\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao buscar dados de saúde\");\n    }\n  },\n\n  async getEmployeeHealthDataList(employeeId: string): Promise<ReadHealthDataDTO[]> {\n    try {\n      const response = await axiosInstance.get<ReadHealthDataDTO[]>(`/healthdata/${employeeId}/list`);\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao buscar lista de dados de saúde\");\n    }\n  },\n\n  async getLastEmployeeHealthData(employeeId: string): Promise<ReadHealthDataDTO> {\n    try {\n      const response = await axiosInstance.get<ReadHealthDataDTO>(`/healthdata/${employeeId}/last`);\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao buscar últimos dados de saúde\");\n    }\n  },\n\n  async getLastEmployeeHealthDataList(): Promise<ReadHealthDataDTO[]> {\n    try {\n      const response = await axiosInstance.get<ReadHealthDataDTO[]>(\"/healthdata/last/list\");\n      return response.data;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao buscar lista dos últimos dados de saúde\");\n    }\n  },\n\n  async subscribeToHealthData(): Promise<EventSource> {\n    try {\n      const eventSource = new EventSource(`${API_BASE_URL}/healthdata/sse`);\n      return eventSource;\n    } catch (error: any) {\n      throw new Error(error.message || \"Erro ao subscrever aos dados de saúde em tempo real\");\n    }\n  }\n};\n","pos":5850,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_57bf94c7-9b3c-42e9-9637-a63f3bec4393%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_57bf94c7-9b3c-42e9-9637-a63f3bec4393","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"5cfecaf","currentHash":"5cfecaf","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_57bf94c7-9b3c-42e9-9637-a63f3bec4393","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"b337688","currentHash":"b337688","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}}]},{"stopId":"e2b727d2-b53e-4362-8c72-95728756e99f","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"10e4f7f","currentHash":"10e4f7f","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22e2b727d2-b53e-4362-8c72-95728756e99f%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"da39a3e","currentHash":"da39a3e","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22e2b727d2-b53e-4362-8c72-95728756e99f%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}}]},{"stopId":"36e424f5-fda1-4970-aaa9-691ef8908f6a","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"6b277cc","currentHash":"6b277cc","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%2236e424f5-fda1-4970-aaa9-691ef8908f6a%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}}]},{"stopId":"17ac30f4-d9f3-4b26-921c-7aa3854ebfb8","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"6b18702","currentHash":"6b18702","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%2217ac30f4-d9f3-4b26-921c-7aa3854ebfb8%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}}]},{"stopId":"f2110f84-dcd8-4601-a31f-d070376b4857","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"6b18702","currentHash":"712dd6d","originalToCurrentEdit":[{"txt":";","pos":12,"len":0},{"txt":"","pos":27,"len":53},{"txt":".","pos":89,"len":12},{"txt":";","pos":110,"len":0},{"txt":"useEmployees","pos":120,"len":16},{"txt":"employees\";","pos":157,"len":75},{"txt":"useMultiMockHealthData","pos":242,"len":19},{"txt":"@/hooks/use-mock","pos":270,"len":11},{"txt":"data\";","pos":289,"len":52},{"txt":"data: employees } = useEmployees();\n  const healthDataMap = useMultiMockHealthData(\n    employees?.map((emp) => emp.id) || []\n  );\n\n  const calculateAverages = () => {\n    if (!Object.keys(healthDataMap).length) return null;\n\n    const totals = {\n      bpm: 0,\n      spo2: 0,\n      stressLevel: 0,\n      steps: 0,\n      count: 0,\n    };\n\n    Object.values(healthDataMap).forEach((data) => {\n      totals.bpm += data.bpm;\n      totals.spo2 += data.spo2 || 0;\n      totals.stressLevel += data.stressLevel || 0;\n      totals.steps += data.steps || 0;\n      totals.count++;\n    });\n\n    return {\n      avgBpm: Math.round(totals.bpm / totals.count),\n      avgSpo2: Math.round(totals.spo2 / totals.count),\n      avgStress: (totals.stressLevel / totals.count).toFixed(1),\n      totalSteps: totals.steps,\n    };\n  };\n\n  const averages = calculateAverages();\n\n  if (!averages) {\n    return (\n      <Card className=\"p-4\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n        </div>\n      </Card>\n    );\n  }\n","pos":399,"len":414},{"txt":"    <Card className=\"p-4\">\n      <h2 className=\"text-lg font-semibold mb-4\">Visão Geral em Tempo Real</h2>\n","pos":825,"len":558},{"txt":"2","pos":1420,"len":1},{"txt":"4","pos":1435,"len":1},{"txt":"","pos":1445,"len":4},{"txt":">\n","pos":1461,"len":30},{"txt":"h3","pos":1502,"len":3},{"txt":"sm","pos":1522,"len":3},{"txt":"medium","pos":1531,"len":4},{"txt":"gray-5","pos":1541,"len":6},{"txt":"BPM Médio</h3>\n","pos":1551,"len":28},{"txt":"2xl font-bold\">{averages.avgBpm}","pos":1608,"len":44},{"txt":"","pos":1657,"len":4},{"txt":"\n","pos":1676,"len":4},{"txt":">\n          <h3","pos":1692,"len":0},{"txt":"sm font-medium text-gray-500\">SpO2 Médio</h3>\n","pos":1709,"len":13},{"txt":"p","pos":1733,"len":3},{"txt":"","pos":1766,"len":15},{"txt":"s.avgSpo2}%","pos":1791,"len":120},{"txt":"","pos":1916,"len":4},{"txt":"\n","pos":1935,"len":4},{"txt":">\n          <h3","pos":1951,"len":0},{"txt":"sm font-medium text-gray-500","pos":1968,"len":6},{"txt":"        Nível de Estresse Médio\n          </h3>\n","pos":1981,"len":0},{"txt":"p","pos":1992,"len":3},{"txt":"","pos":2025,"len":13},{"txt":"averages.avgStress}/5","pos":2041,"len":100},{"txt":"","pos":2146,"len":4},{"txt":"\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">Total de Passos</h3>\n          <p className=\"text-2xl font-bold\">\n            {averages.totalSteps.toLocaleString()}\n          </p>\n","pos":2165,"len":0},{"txt":"","pos":2165,"len":2},{"txt":"","pos":2182,"len":667},{"txt":"      <div className=\"mt-4 text-sm text-gray-500\">\n        Monitorando {Object.keys(healthDataMap).length} funcionário(s)\n","pos":2863,"len":893},{"txt":"Card","pos":3775,"len":3},{"txt":";","pos":3783,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22f2110f84-dcd8-4601-a31f-d070376b4857%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"6b18702","currentHash":"c7c0aae","originalToCurrentEdit":[{"txt":"\"use client\";","pos":0,"len":12},{"txt":"import { Card } from \"./ui/card\";","pos":14,"len":96},{"txt":"import { useEmployees } from \"@/hooks/use-employees\";","pos":111,"len":121},{"txt":"import { useMultiMockHealthData } from \"@/hooks/use-mock-health-data\";","pos":233,"len":108},{"txt":"import { ReadEmployeeDTO } from \"@/lib/types\";","pos":342,"len":0},{"txt":"","pos":343,"len":45},{"txt":"export function RealTimeDashboardOverview() {\n  const { employees } = useEmployees();\n  const healthDataMap = useMultiMockHealthData(\n    employees.map((emp: ReadEmployeeDTO) => emp.id) || []\n  );\n\n  const calculateAverages = () => {\n    if (!Object.keys(healthDataMap).length) return null;\n\n    const totals = {\n      bpm: 0,\n      spo2: 0,\n      stressLevel: 0,\n      steps: 0,\n      count: 0,\n    };\n\n    Object.values(healthDataMap).forEach((data) => {\n      totals.bpm += data.bpm;\n      totals.spo2 += data.spo2 || 0;\n      totals.stressLevel += data.stressLevel || 0;\n      totals.steps += data.steps || 0;\n      totals.count++;\n    });\n\n    return {\n      avgBpm: Math.round(totals.bpm / totals.count),\n      avgSpo2: Math.round(totals.spo2 / totals.count),\n      avgStress: (totals.stressLevel / totals.count).toFixed(1),\n      totalSteps: totals.steps,\n    };\n  };\n\n  const averages = calculateAverages();\n\n  if (!averages) {\n    return (\n      <Card className=\"p-4\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n        </div>\n      </Card>\n    );\n  }","pos":389,"len":424},{"txt":"","pos":814,"len":10},{"txt":"  return (\n    <Card className=\"p-4\">\n      <h2 className=\"text-lg font-semibold mb-4\">Visão Geral em Tempo Real</h2>","pos":825,"len":619},{"txt":"      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">BPM Médio</h3>","pos":1445,"len":211},{"txt":"          <p className=\"text-2xl font-bold\">{averages.avgBpm}</p>","pos":1657,"len":18},{"txt":"        </div>\n\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">SpO2 Médio</h3>","pos":1676,"len":239},{"txt":"          <p className=\"text-2xl font-bold\">{averages.avgSpo2}%</p>","pos":1916,"len":18},{"txt":"        </div>\n\n        <div>","pos":1935,"len":41},{"txt":"          <h3 className=\"text-sm font-medium text-gray-500\">\n            Nível de Estresse Médio\n          </h3>","pos":1977,"len":168},{"txt":"          <p className=\"text-2xl font-bold\">{averages.avgStress}/5</p>","pos":2146,"len":18},{"txt":"        </div>\n\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">Total de Passos</h3>\n          <p className=\"text-2xl font-bold\">\n            {averages.totalSteps.toLocaleString()}\n          </p>","pos":2165,"len":16},{"txt":"        </div>","pos":2182,"len":679},{"txt":"      </div>","pos":2862,"len":0},{"txt":"\n      <div className=\"mt-4 text-sm text-gray-500\">\n        Monitorando {Object.keys(healthDataMap).length} funcionário(s)","pos":2863,"len":905},{"txt":"      </div>","pos":3769,"len":10},{"txt":"    </Card>","pos":3780,"len":3},{"txt":"  );","pos":3784,"len":1},{"txt":"}\n","pos":3786,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_4230c461-2c7c-4848-8903-c5fe176f463d%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_b0793a70-32fa-47c4-a822-8006215c228d","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"5cfecaf","currentHash":"5cfecaf","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_57bf94c7-9b3c-42e9-9637-a63f3bec4393","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"b337688","currentHash":"b337688","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"10e4f7f","currentHash":"4e7f99f","originalToCurrentEdit":[{"txt":"import { ReadHealthDataDTO } from './api-client';\n\n// Função para gerar um número aleatório dentro de um intervalo\nconst randomInRange = (min: number, max: number) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\n// Função para gerar um número decimal aleatório dentro de um intervalo\nconst randomFloatInRange = (min: number, max: number) => {\n  return Number((Math.random() * (max - min) + min).toFixed(2));\n};\n\n// Função para gerar dados de saúde aleatórios para um funcionário\nexport const generateHealthData = (employeeId: string): ReadHealthDataDTO => {\n  const now = new Date();\n  \n  return {\n    healthdata_id: `hd-${Math.random().toString(36).substr(2, 9)}`,\n    employee_id: employeeId,\n    bpm: randomInRange(60, 100), // Batimentos cardíacos normais\n    spo2: randomInRange(95, 100), // SpO2 normal\n    stressLevel: randomInRange(1, 5),\n    steps: randomInRange(0, 1000), // Passos incrementais\n    distanceM: randomFloatInRange(0, 1000), // Distância em metros\n    calories: randomFloatInRange(0, 500), // Calorias queimadas\n    bpSystolic: randomInRange(110, 130), // Pressão sistólica normal\n    bpDiastolic: randomInRange(70, 85), // Pressão diastólica normal\n    skinTemp: randomFloatInRange(35.5, 37.5), // Temperatura corporal normal\n    sleepQuality: [\"POOR\", \"AVERAGE\", \"GOOD\", \"EXCEPTIONAL\"][randomInRange(0, 3)] as \"POOR\" | \"AVERAGE\" | \"GOOD\" | \"EXCEPTIONAL\",\n    sleepDuration: randomInRange(0, 480), // Duração do sono em minutos (0-8 horas)\n    timestamp: now.toISOString()\n  };\n};\n\n// Classe para simular o SSE para um funcionário específico\nexport class MockHealthDataStream {\n  private intervalId: NodeJS.Timeout | null = null;\n  private listeners: ((data: ReadHealthDataDTO) => void)[] = [];\n  \n  constructor(private employeeId: string, private interval: number = 5000) {}\n\n  // Iniciar o stream de dados\n  start() {\n    if (this.intervalId) return;\n    \n    this.intervalId = setInterval(() => {\n      const newData = generateHealthData(this.employeeId);\n      this.listeners.forEach(listener => listener(newData));\n    }, this.interval);\n  }\n\n  // Parar o stream de dados\n  stop() {\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n\n  // Adicionar um listener para os dados\n  onData(callback: (data: ReadHealthDataDTO) => void) {\n    this.listeners.push(callback);\n    return () => {\n      this.listeners = this.listeners.filter(l => l !== callback);\n    };\n  }\n}\n\n// Gerenciador de streams de dados simulados\nexport class MockHealthDataStreamManager {\n  private streams: Map<string, MockHealthDataStream> = new Map();\n  \n  // Obter ou criar um stream para um funcionário\n  getStream(employeeId: string): MockHealthDataStream {\n    if (!this.streams.has(employeeId)) {\n      const stream = new MockHealthDataStream(employeeId);\n      this.streams.set(employeeId, stream);\n    }\n    return this.streams.get(employeeId)!;\n  }\n\n  // Parar todos os streams\n  stopAll() {\n    this.streams.forEach(stream => stream.stop());\n    this.streams.clear();\n  }\n}\n\n// Instância global do gerenciador de streams\nexport const mockHealthDataManager = new MockHealthDataStreamManager();\n\n","pos":0,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"da39a3e","currentHash":"04b6170","originalToCurrentEdit":[{"txt":"import { useState, useEffect } from 'react';\nimport { ReadHealthDataDTO } from '@/lib/api-client';\nimport { mockHealthDataManager } from '@/lib/mock-data';\n\nexport function useMockHealthData(employeeId: string) {\n  const [healthData, setHealthData] = useState<ReadHealthDataDTO | null>(null);\n\n  useEffect(() => {\n    const stream = mockHealthDataManager.getStream(employeeId);\n    const unsubscribe = stream.onData((data) => {\n      setHealthData(data);\n    });\n\n    // Iniciar o stream\n    stream.start();\n\n    // Cleanup\n    return () => {\n      unsubscribe();\n      stream.stop();\n    };\n  }, [employeeId]);\n\n  return healthData;\n}\n\nexport function useMultiMockHealthData(employeeIds: string[]) {\n  const [healthDataMap, setHealthDataMap] = useState<Record<string, ReadHealthDataDTO>>({});\n\n  useEffect(() => {\n    const streams = employeeIds.map(id => mockHealthDataManager.getStream(id));\n    const unsubscribes = streams.map((stream, index) => {\n      const employeeId = employeeIds[index];\n      return stream.onData((data) => {\n        setHealthDataMap(prev => ({\n          ...prev,\n          [employeeId]: data\n        }));\n      });\n    });\n\n    // Iniciar todos os streams\n    streams.forEach(stream => stream.start());\n\n    // Cleanup\n    return () => {\n      unsubscribes.forEach(unsubscribe => unsubscribe());\n      streams.forEach(stream => stream.stop());\n    };\n  }, [employeeIds.join(',')]);\n\n  return healthDataMap;\n}\n","pos":0,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"6b277cc","currentHash":"f5d4215","originalToCurrentEdit":[{"txt":"","pos":15,"len":58},{"txt":"","pos":107,"len":82},{"txt":"Mock","pos":250,"len":0},{"txt":"-mock","pos":280,"len":0},{"txt":"","pos":344,"len":1},{"txt":"healthData = useMockHealthData","pos":444,"len":331},{"txt":"","pos":789,"len":28},{"txt":"  if (!healthData) {\n","pos":818,"len":959},{"txt":"4","pos":1815,"len":1},{"txt":"animate-pulse","pos":1843,"len":11},{"txt":"          <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-4\"></div>\n","pos":1857,"len":70},{"txt":"<div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>","pos":1937,"len":26},{"txt":"4 space-y-4","pos":2039,"len":1},{"txt":"","pos":2096,"len":15},{"txt":"4","pos":2116,"len":1},{"txt":"h3","pos":2145,"len":1},{"txt":" font-medium","pos":2165,"len":0},{"txt":"\n            Batimentos Cardíacos\n          </h3","pos":2181,"len":13},{"txt":"","pos":2234,"len":4},{"txt":"healthData","pos":2245,"len":10},{"txt":"","pos":2284,"len":29},{"txt":"","pos":2314,"len":2},{"txt":"","pos":2330,"len":2},{"txt":"h3","pos":2343,"len":1},{"txt":" font-medium","pos":2363,"len":0},{"txt":"","pos":2379,"len":8},{"txt":"          Saturação de O2\n          </h3>\n","pos":2390,"len":0},{"txt":"","pos":2428,"len":4},{"txt":"healthData","pos":2439,"len":10},{"txt":"","pos":2461,"len":2},{"txt":"","pos":2478,"len":47},{"txt":"","pos":2526,"len":2},{"txt":"          <h3 className=\"text-sm font-medium text-gray-500\">\n            Pressão Arterial\n          </h3>\n","pos":2542,"len":295},{"txt":"","pos":2875,"len":4},{"txt":"","pos":2886,"len":2},{"txt":"healthData.bpSystolic}/{healthData.bpDiastolic}","pos":2901,"len":22},{"txt":"","pos":2924,"len":2},{"txt":"","pos":2941,"len":2},{"txt":"\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">Temperatura</h3>\n          <p className=\"text-2xl font-bold\">{healthData.skinTemp}°C</p>\n        </div>\n\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">Nível de Estresse</h3>\n          <p className=\"text-2xl font-bold\">{healthData.stressLevel}/5</p>\n        </div>\n\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">Passos</h3>\n          <p className=\"text-2xl font-bold\">{healthData.steps}</p>\n        </div>\n","pos":2958,"len":11},{"txt":"\n","pos":2982,"len":0},{"txt":"","pos":3004,"len":5},{"txt":"xs","pos":3014,"len":2},{"txt":" text-right","pos":3030,"len":0},{"txt":"Atualizado em:{\" \"}\n       ","pos":3041,"len":13},{"txt":"healthData","pos":3065,"len":10},{"txt":"\"pt-BR\"","pos":3102,"len":0},{"txt":"","pos":3118,"len":151}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"6b18702","currentHash":"c7c0aae","originalToCurrentEdit":[{"txt":";","pos":12,"len":0},{"txt":"","pos":27,"len":53},{"txt":".","pos":89,"len":12},{"txt":";","pos":110,"len":0},{"txt":"useEmployees","pos":120,"len":16},{"txt":"employees\";","pos":157,"len":75},{"txt":"useMultiMockHealthData","pos":242,"len":19},{"txt":"@/hooks/use-mock","pos":270,"len":11},{"txt":"data\";","pos":289,"len":6},{"txt":"ReadEmployeeDTO","pos":305,"len":5},{"txt":"lib/types\";","pos":321,"len":20},{"txt":"employees } = useEmployees();\n  const healthDataMap = useMultiMockHealthData(\n    employees.map((emp: ReadEmployeeDTO) => emp.id) || []\n  );\n\n  const calculateAverages = () => {\n    if (!Object.keys(healthDataMap).length) return null;\n\n    const totals = {\n      bpm: 0,\n      spo2: 0,\n      stressLevel: 0,\n      steps: 0,\n      count: 0,\n    };\n\n    Object.values(healthDataMap).forEach((data) => {\n      totals.bpm += data.bpm;\n      totals.spo2 += data.spo2 || 0;\n      totals.stressLevel += data.stressLevel || 0;\n      totals.steps += data.steps || 0;\n      totals.count++;\n    });\n\n    return {\n      avgBpm: Math.round(totals.bpm / totals.count),\n      avgSpo2: Math.round(totals.spo2 / totals.count),\n      avgStress: (totals.stressLevel / totals.count).toFixed(1),\n      totalSteps: totals.steps,\n    };\n  };\n\n  const averages = calculateAverages();\n\n  if (!averages) {\n    return (\n      <Card className=\"p-4\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n        </div>\n      </Card>\n    );\n  }\n","pos":399,"len":414},{"txt":"    <Card className=\"p-4\">\n      <h2 className=\"text-lg font-semibold mb-4\">Visão Geral em Tempo Real</h2>\n","pos":825,"len":558},{"txt":"2","pos":1420,"len":1},{"txt":"4","pos":1435,"len":1},{"txt":"","pos":1445,"len":4},{"txt":">\n","pos":1461,"len":30},{"txt":"h3","pos":1502,"len":3},{"txt":"sm","pos":1522,"len":3},{"txt":"medium","pos":1531,"len":4},{"txt":"gray-5","pos":1541,"len":6},{"txt":"BPM Médio</h3>\n","pos":1551,"len":28},{"txt":"2xl font-bold\">{averages.avgBpm}","pos":1608,"len":44},{"txt":"","pos":1657,"len":4},{"txt":"\n","pos":1676,"len":4},{"txt":">\n          <h3","pos":1692,"len":0},{"txt":"sm font-medium text-gray-500\">SpO2 Médio</h3>\n","pos":1709,"len":13},{"txt":"p","pos":1733,"len":3},{"txt":"","pos":1766,"len":15},{"txt":"s.avgSpo2}%","pos":1791,"len":120},{"txt":"","pos":1916,"len":4},{"txt":"\n","pos":1935,"len":4},{"txt":">\n          <h3","pos":1951,"len":0},{"txt":"sm font-medium text-gray-500","pos":1968,"len":6},{"txt":"        Nível de Estresse Médio\n          </h3>\n","pos":1981,"len":0},{"txt":"p","pos":1992,"len":3},{"txt":"","pos":2025,"len":13},{"txt":"averages.avgStress}/5","pos":2041,"len":100},{"txt":"","pos":2146,"len":4},{"txt":"\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-500\">Total de Passos</h3>\n          <p className=\"text-2xl font-bold\">\n            {averages.totalSteps.toLocaleString()}\n          </p>\n","pos":2165,"len":0},{"txt":"","pos":2165,"len":2},{"txt":"","pos":2182,"len":667},{"txt":"      <div className=\"mt-4 text-sm text-gray-500\">\n        Monitorando {Object.keys(healthDataMap).length} funcionário(s)\n","pos":2863,"len":893},{"txt":"Card","pos":3775,"len":3},{"txt":";","pos":3783,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}}]},{"stopId":"00898b5f-ed66-47a5-8047-b1e4736cd627","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"5cfecaf","currentHash":"5cfecaf","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%2200898b5f-ed66-47a5-8047-b1e4736cd627%22%7D","telemetryInfo":{"requestId":"request_b0793a70-32fa-47c4-a822-8006215c228d","agentId":"github.copilot.editsAgent"}}]},{"stopId":"76f1925d-4caf-4d9e-8208-1e3158ff30c3","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"b337688","currentHash":"b337688","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%2276f1925d-4caf-4d9e-8208-1e3158ff30c3%22%7D","telemetryInfo":{"requestId":"request_b0793a70-32fa-47c4-a822-8006215c228d","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"b337688","currentHash":"f792963","originalToCurrentEdit":[{"txt":"\"use client\";","pos":0,"len":13},{"txt":"import type React from \"react\";","pos":15,"len":31},{"txt":"import {","pos":47,"len":8},{"txt":"  createContext,","pos":56,"len":16},{"txt":"  useContext,","pos":73,"len":13},{"txt":"  useEffect,","pos":87,"len":12},{"txt":"  useState,","pos":100,"len":11},{"txt":"  type ReactNode,","pos":112,"len":17},{"txt":"} from \"react\";","pos":130,"len":15},{"txt":"import { useRouter } from \"next/navigation\";","pos":146,"len":44},{"txt":"import {","pos":191,"len":8},{"txt":"  apiClient,","pos":200,"len":12},{"txt":"  type LoginUserDTO,","pos":213,"len":20},{"txt":"  type RegisterUserDTO,","pos":234,"len":23},{"txt":"  type ReadUserDTO,","pos":258,"len":19},{"txt":"} from \"@/lib/api-client\";","pos":278,"len":16},{"txt":"import { toast } from \"sonner\";","pos":295,"len":26},{"txt":"import { jwtDecode } from \"jwt-decode\";","pos":322,"len":31},{"txt":"","pos":354,"len":39},{"txt":"interface DecodedToken {","pos":394,"len":33},{"txt":"  sub: string;","pos":428,"len":0},{"txt":"  exp: number;","pos":429,"len":24},{"txt":"  role: string;","pos":454,"len":14},{"txt":"}","pos":469,"len":14},{"txt":"","pos":484,"len":1},{"txt":"interface AuthContextType {","pos":486,"len":0},{"txt":"  user: ReadUserDTO | null;","pos":487,"len":27},{"txt":"  login: (data: LoginUserDTO) => Promise<void>;","pos":515,"len":27},{"txt":"  register: (data: RegisterUserDTO) => Promise<void>;","pos":543,"len":47},{"txt":"  logout: () => void;","pos":591,"len":53},{"txt":"  isLoading: boolean;","pos":645,"len":21},{"txt":"}","pos":667,"len":21},{"txt":"","pos":689,"len":1},{"txt":"const AuthContext = createContext<AuthContextType | null>(null);","pos":691,"len":0},{"txt":"","pos":692,"len":64},{"txt":"export function AuthProvider({ children }: { children: ReactNode }) {","pos":757,"len":0},{"txt":"  const [user, setUser] = useState<ReadUserDTO | null>(null);","pos":758,"len":69},{"txt":"  const [isLoading, setIsLoading] = useState(true);","pos":828,"len":61},{"txt":"  const router = useRouter();","pos":890,"len":51},{"txt":"","pos":942,"len":29},{"txt":"  // Função para validar o token","pos":972,"len":0},{"txt":"  const validateToken = (token: string) => {","pos":973,"len":19},{"txt":"    try {","pos":993,"len":35},{"txt":"      const decoded = jwtDecode<DecodedToken>(token);","pos":1029,"len":11},{"txt":"      const currentTime = Date.now() / 1000;","pos":1041,"len":52},{"txt":"      return decoded.exp > currentTime ? decoded : null;","pos":1094,"len":21},{"txt":"    } catch {","pos":1116,"len":30},{"txt":"      return null;","pos":1147,"len":17},{"txt":"    }","pos":1165,"len":9},{"txt":"  };","pos":1175,"len":0},{"txt":"","pos":1176,"len":36},{"txt":"  // Função para verificar autenticação","pos":1213,"len":55},{"txt":"  const checkAuth = async () => {","pos":1269,"len":46},{"txt":"    try {","pos":1316,"len":8},{"txt":"      const token = localStorage.getItem(\"token\");","pos":1325,"len":40},{"txt":"      if (!token) {","pos":1366,"len":26},{"txt":"        setUser(null);","pos":1393,"len":43},{"txt":"        return;","pos":1437,"len":30},{"txt":"      }","pos":1468,"len":17},{"txt":"","pos":1486,"len":9},{"txt":"      const decoded = validateToken(token);","pos":1496,"len":0},{"txt":"      if (!decoded) {","pos":1497,"len":24},{"txt":"        localStorage.removeItem(\"token\");","pos":1522,"len":66},{"txt":"        setUser(null);","pos":1589,"len":26},{"txt":"        return;","pos":1616,"len":23},{"txt":"      }","pos":1640,"len":51},{"txt":"","pos":1692,"len":41},{"txt":"      const userData = await apiClient.getUserData(decoded.sub);","pos":1734,"len":17},{"txt":"      setUser(userData);","pos":1752,"len":28},{"txt":"    } catch (error) {","pos":1781,"len":7},{"txt":"      console.error(\"Auth check failed:\", error);","pos":1789,"len":6},{"txt":"      localStorage.removeItem(\"token\");","pos":1796,"len":0},{"txt":"      setUser(null);","pos":1797,"len":16},{"txt":"    } finally {","pos":1814,"len":9},{"txt":"      setIsLoading(false);","pos":1824,"len":0},{"txt":"    }","pos":1825,"len":47},{"txt":"  };","pos":1873,"len":9},{"txt":"","pos":1883,"len":25},{"txt":"  // Verificar autenticação ao montar o componente","pos":1909,"len":55},{"txt":"  useEffect(() => {","pos":1965,"len":46},{"txt":"    checkAuth();","pos":2012,"len":6},{"txt":"  }, []);","pos":2019,"len":56},{"txt":"","pos":2076,"len":64},{"txt":"  const login = async (data: LoginUserDTO) => {","pos":2141,"len":6},{"txt":"    try {","pos":2148,"len":24},{"txt":"      setIsLoading(true);","pos":2173,"len":52},{"txt":"","pos":2226,"len":32},{"txt":"      // Fazer login e obter token","pos":2259,"len":26},{"txt":"      const response = await apiClient.login(data);","pos":2286,"len":59},{"txt":"      const { tokenJWT } = response;","pos":2346,"len":37},{"txt":"","pos":2384,"len":39},{"txt":"      // Validar o token recebido","pos":2424,"len":18},{"txt":"      const decoded = validateToken(tokenJWT);","pos":2443,"len":15},{"txt":"      if (!decoded) {","pos":2459,"len":26},{"txt":"        throw new Error(\"Token inválido recebido do servidor\");","pos":2486,"len":5},{"txt":"      }","pos":2492,"len":4},{"txt":"      // Salvar token e buscar dados do usuário","pos":2498,"len":53},{"txt":"      localStorage.setItem(\"token\", tokenJWT);","pos":2552,"len":9},{"txt":"      const userData = await apiClient.getUserData(decoded.sub);","pos":2562,"len":25},{"txt":"      setUser(userData);","pos":2588,"len":37},{"txt":"","pos":2626,"len":82},{"txt":"      toast.success(\"Login realizado com sucesso!\");","pos":2709,"len":28},{"txt":"      router.push(\"/dashboard\");","pos":2738,"len":26},{"txt":"    } catch (error: any) {","pos":2765,"len":57},{"txt":"      localStorage.removeItem(\"token\");","pos":2823,"len":18},{"txt":"      setUser(null);","pos":2842,"len":15},{"txt":"      toast.error(","pos":2858,"len":26},{"txt":"        error.message || \"Erro ao fazer login. Verifique suas credenciais.\"","pos":2885,"len":5},{"txt":"      );","pos":2891,"len":4},{"txt":"      throw error;","pos":2896,"len":0},{"txt":"    } finally {","pos":2897,"len":24},{"txt":"      setIsLoading(false);","pos":2922,"len":37},{"txt":"    }","pos":2960,"len":18},{"txt":"  };","pos":2979,"len":26},{"txt":"","pos":3006,"len":51},{"txt":"  const register = async (data: RegisterUserDTO) => {","pos":3058,"len":4},{"txt":"    try {","pos":3063,"len":0},{"txt":"      setIsLoading(true);","pos":3064,"len":10},{"txt":"      await apiClient.register(data);","pos":3075,"len":79},{"txt":"      toast.success(\"Registro realizado com sucesso! Faça login para continuar.\");","pos":3155,"len":16},{"txt":"      router.push(\"/login\");","pos":3172,"len":27},{"txt":"    } catch (error: any) {","pos":3200,"len":4},{"txt":"      toast.error(error.message || \"Erro ao registrar. Tente novamente.\");","pos":3205,"len":1},{"txt":"      throw error;","pos":3207,"len":0},{"txt":"    } finally {","pos":3208,"len":27},{"txt":"      setIsLoading(false);","pos":3236,"len":42},{"txt":"    }","pos":3279,"len":17},{"txt":"  };","pos":3297,"len":72},{"txt":"","pos":3370,"len":3},{"txt":"  const logout = () => {","pos":3374,"len":17},{"txt":"    localStorage.removeItem(\"token\");","pos":3392,"len":1},{"txt":"    setUser(null);","pos":3394,"len":0},{"txt":"    router.push(\"/login\");","pos":3395,"len":26},{"txt":"    toast.success(\"Logout realizado com sucesso!\");","pos":3422,"len":63},{"txt":"  };","pos":3486,"len":46},{"txt":"","pos":3533,"len":42},{"txt":"  return (","pos":3576,"len":0},{"txt":"    <AuthContext.Provider value={{ user, login, register, logout, isLoading }}>","pos":3577,"len":21},{"txt":"      {children}","pos":3599,"len":32},{"txt":"    </AuthContext.Provider>","pos":3632,"len":30},{"txt":"  );","pos":3663,"len":7},{"txt":"}","pos":3671,"len":26},{"txt":"export function useAuth() {","pos":3699,"len":20},{"txt":"  const context = useContext(AuthContext);","pos":3720,"len":14},{"txt":"  if (!context) {","pos":3735,"len":71},{"txt":"    throw new Error(\"useAuth deve ser usado dentro de um AuthProvider\");","pos":3807,"len":50},{"txt":"  }","pos":3858,"len":14},{"txt":"  return context;","pos":3873,"len":8},{"txt":"}","pos":3882,"len":5},{"txt":"","pos":3888,"len":128}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0793a70-32fa-47c4-a822-8006215c228d%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_b0793a70-32fa-47c4-a822-8006215c228d","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"7f097fa","currentHash":"7f097fa","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b0793a70-32fa-47c4-a822-8006215c228d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"f792963","currentHash":"f792963","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b0793a70-32fa-47c4-a822-8006215c228d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"4e7f99f","currentHash":"4e7f99f","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"04b6170","currentHash":"04b6170","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"f5d4215","currentHash":"f5d4215","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"c7c0aae","currentHash":"c7c0aae","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/middleware.ts","languageId":"typescript","originalHash":"da39a3e","currentHash":"da39a3e","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/middleware.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}}]},{"stopId":"919f8457-b4c5-4ad5-b3c2-50e5de8e50b6","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"f792963","currentHash":"f792963","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22919f8457-b4c5-4ad5-b3c2-50e5de8e50b6%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}}]},{"stopId":"1337b0fa-c02d-49f4-9b5c-5f6f139b188f","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"7f097fa","currentHash":"7f097fa","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%221337b0fa-c02d-49f4-9b5c-5f6f139b188f%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"7f097fa","currentHash":"2192032","originalToCurrentEdit":[{"txt":"import axios, { AxiosInstance } from \"axios\";","pos":0,"len":45},{"txt":"import { toast } from \"sonner\";","pos":46,"len":31},{"txt":"import Cookies from 'js-cookie';","pos":78,"len":0},{"txt":"","pos":79,"len":25},{"txt":"// API Base Configuration","pos":105,"len":101},{"txt":"const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"https://vitaport-production.up.railway.app\";","pos":207,"len":0},{"txt":"","pos":208,"len":35},{"txt":"// Função auxiliar para obter headers com token","pos":244,"len":34},{"txt":"const getAuthHeaders = () => {","pos":279,"len":15},{"txt":"  const token = Cookies.get('token');","pos":295,"len":16},{"txt":"  return token ? { Authorization: `Bearer ${token}` } : {};","pos":312,"len":19},{"txt":"};","pos":332,"len":55},{"txt":"","pos":388,"len":1},{"txt":"// Types based on API documentation","pos":390,"len":0},{"txt":"export interface RegisterUserDTO {","pos":391,"len":33},{"txt":"  name: string;","pos":425,"len":13},{"txt":"  email: string;","pos":439,"len":15},{"txt":"  password: string;","pos":455,"len":16},{"txt":"  role: \"employee\" | \"data_analyst\" | \"system_manager\";","pos":472,"len":1},{"txt":"}","pos":474,"len":0},{"txt":"","pos":475,"len":31},{"txt":"export interface CreatedUserDTO {","pos":507,"len":16},{"txt":"  id: string;","pos":524,"len":19},{"txt":"  name: string;","pos":544,"len":1},{"txt":"  email: string;","pos":546,"len":0},{"txt":"}","pos":547,"len":27},{"txt":"","pos":575,"len":19},{"txt":"export interface LoginUserDTO {","pos":595,"len":1},{"txt":"  email: string;","pos":597,"len":0},{"txt":"  password: string;","pos":598,"len":30},{"txt":"}","pos":629,"len":13},{"txt":"","pos":643,"len":15},{"txt":"export interface TokenDTO {","pos":659,"len":16},{"txt":"  tokenJWT: string;","pos":676,"len":59},{"txt":"}","pos":736,"len":18},{"txt":"","pos":755,"len":1},{"txt":"export interface ReadUserDTO {","pos":757,"len":0},{"txt":"  id: string;","pos":758,"len":38},{"txt":"  name: string;","pos":797,"len":18},{"txt":"  email: string;","pos":816,"len":29},{"txt":"  userRole: \"EMPLOYEE\" | \"DATA_ANALYST\" | \"SYSTEM_MANAGER\";","pos":846,"len":14},{"txt":"  active: boolean;","pos":861,"len":19},{"txt":"}","pos":881,"len":21},{"txt":"","pos":903,"len":1},{"txt":"export interface RegisterEmployeeDTO {","pos":905,"len":0},{"txt":"  user_id: string;","pos":906,"len":37},{"txt":"  registrationNumber: string;","pos":944,"len":13},{"txt":"  cpf: string;","pos":958,"len":18},{"txt":"  fullName: string;","pos":977,"len":29},{"txt":"  socialName: string;","pos":1007,"len":14},{"txt":"}","pos":1022,"len":19},{"txt":"","pos":1042,"len":21},{"txt":"export interface CreatedEmployeeDTO {","pos":1064,"len":1},{"txt":"  id: string;","pos":1066,"len":0},{"txt":"  user_id: string;","pos":1067,"len":34},{"txt":"  registrationNumber: string;","pos":1102,"len":13},{"txt":"  cpf: string;","pos":1116,"len":20},{"txt":"  fullName: string;","pos":1137,"len":29},{"txt":"  socialName: string;","pos":1167,"len":14},{"txt":"}","pos":1182,"len":19},{"txt":"","pos":1202,"len":21},{"txt":"export interface ReadEmployeeDTO {","pos":1224,"len":39},{"txt":"  id: string;","pos":1264,"len":1},{"txt":"  user: ReadUserDTO;","pos":1266,"len":0},{"txt":"  registrationNumber: string;","pos":1267,"len":40},{"txt":"  cpf: string;","pos":1308,"len":22},{"txt":"  fullName: string;","pos":1331,"len":14},{"txt":"  socialName: string;","pos":1346,"len":16},{"txt":"  healthCarePages: ReadHealthDataDTO[];","pos":1363,"len":21},{"txt":"}","pos":1385,"len":25},{"txt":"","pos":1411,"len":24},{"txt":"export interface RegisterHealthDataDTO {","pos":1436,"len":23},{"txt":"  employee_id: string;","pos":1460,"len":17},{"txt":"  bpm: number;","pos":1478,"len":21},{"txt":"  spo2?: number;","pos":1500,"len":20},{"txt":"  ecgSignal?: string;","pos":1521,"len":22},{"txt":"  sleepDuration?: number;","pos":1544,"len":23},{"txt":"  sleepQuality?: string;","pos":1568,"len":20},{"txt":"  stressLevel?: number;","pos":1589,"len":20},{"txt":"  steps?: number;","pos":1610,"len":1},{"txt":"  distanceM?: number;","pos":1612,"len":0},{"txt":"  calories?: number;","pos":1613,"len":36},{"txt":"  bpSystolic?: number;","pos":1650,"len":24},{"txt":"  bpDiastolic?: number;","pos":1675,"len":22},{"txt":"  skinTemp?: number;","pos":1698,"len":14},{"txt":"  timestamp: string;","pos":1713,"len":16},{"txt":"}","pos":1730,"len":21},{"txt":"","pos":1752,"len":25},{"txt":"export interface ReadHealthDataDTO {","pos":1778,"len":61},{"txt":"  healthdata_id: string;","pos":1840,"len":23},{"txt":"  employee_id: string;","pos":1864,"len":17},{"txt":"  bpm: number;","pos":1882,"len":21},{"txt":"  spo2?: number;","pos":1904,"len":20},{"txt":"  ecgSignal?: string;","pos":1925,"len":22},{"txt":"  sleepDuration?: number;","pos":1948,"len":23},{"txt":"  sleepQuality?: \"POOR\" | \"AVERAGE\" | \"GOOD\" | \"EXCEPTIONAL\";","pos":1972,"len":20},{"txt":"  stressLevel?: number;","pos":1993,"len":20},{"txt":"  steps?: number;","pos":2014,"len":1},{"txt":"  distanceM?: number;","pos":2016,"len":0},{"txt":"  calories?: number;","pos":2017,"len":66},{"txt":"  bpSystolic?: number;","pos":2084,"len":0},{"txt":"  bpDiastolic?: number;","pos":2085,"len":18},{"txt":"  skinTemp?: number;","pos":2104,"len":27},{"txt":"  timestamp: string;","pos":2132,"len":18},{"txt":"}","pos":2151,"len":17},{"txt":"","pos":2169,"len":16},{"txt":"export interface CreatedHealthDataDTO extends ReadHealthDataDTO {}","pos":2186,"len":1},{"txt":"// API Error types","pos":2189,"len":47},{"txt":"export interface APIError {","pos":2237,"len":38},{"txt":"  message: string;","pos":2276,"len":17},{"txt":"  status: number;","pos":2294,"len":74},{"txt":"  details?: any;","pos":2369,"len":23},{"txt":"}","pos":2393,"len":73},{"txt":"","pos":2467,"len":37},{"txt":"export const handleAPIError = (error: any) => {","pos":2505,"len":36},{"txt":"  console.error(\"API Error: \", error);","pos":2542,"len":3},{"txt":"  const message =","pos":2546,"len":2},{"txt":"    error.response?.data?.message || error.message || \"An error occurred\";","pos":2549,"len":0},{"txt":"  toast.error(message);","pos":2550,"len":42},{"txt":"  if (error.response?.status === 401 || error.response?.status === 403) {","pos":2593,"len":51},{"txt":"    Cookies.remove('token');","pos":2645,"len":24},{"txt":"    window.location.href = \"/login\";","pos":2670,"len":12},{"txt":"  }","pos":2683,"len":39},{"txt":"};","pos":2723,"len":4},{"txt":"","pos":2728,"len":3},{"txt":"// Create axios instance with interceptors","pos":2732,"len":0},{"txt":"const axiosInstance: AxiosInstance = axios.create({","pos":2733,"len":35},{"txt":"  baseURL: API_BASE_URL,","pos":2769,"len":39},{"txt":"  headers: {","pos":2809,"len":15},{"txt":"    \"Content-Type\": \"application/json\",","pos":2825,"len":48},{"txt":"  },","pos":2874,"len":16},{"txt":"});","pos":2891,"len":55},{"txt":"","pos":2947,"len":5},{"txt":"// Request interceptor to add token","pos":2953,"len":18},{"txt":"axiosInstance.interceptors.request.use(","pos":2972,"len":4},{"txt":"  (config) => {","pos":2977,"len":14},{"txt":"    const token = Cookies.get('token');","pos":2992,"len":33},{"txt":"    if (token) {","pos":3026,"len":3},{"txt":"      config.headers.Authorization = `Bearer ${token}`;","pos":3030,"len":2},{"txt":"    }","pos":3033,"len":0},{"txt":"    return config;","pos":3034,"len":40},{"txt":"  },","pos":3075,"len":40},{"txt":"  (error) => {","pos":3116,"len":25},{"txt":"    return Promise.reject(error);","pos":3142,"len":14},{"txt":"  }","pos":3157,"len":25},{"txt":");","pos":3183,"len":36},{"txt":"","pos":3220,"len":38},{"txt":"// Response interceptor to handle errors","pos":3259,"len":17},{"txt":"axiosInstance.interceptors.response.use(","pos":3277,"len":43},{"txt":"  (response) => response,","pos":3321,"len":42},{"txt":"  (error) => {","pos":3364,"len":99},{"txt":"    if (error.response) {","pos":3464,"len":17},{"txt":"      // Handle specific error cases","pos":3482,"len":94},{"txt":"      switch (error.response.status) {","pos":3577,"len":17},{"txt":"        case 401:","pos":3595,"len":30},{"txt":"          Cookies.remove('token');","pos":3626,"len":62},{"txt":"          window.location.href = \"/login\";","pos":3689,"len":33},{"txt":"          return Promise.reject(new Error(\"Sua sessão expirou. Por favor, faça login novamente.\"));","pos":3723,"len":89},{"txt":"        case 403:","pos":3813,"len":11},{"txt":"          return Promise.reject(new Error(\"Você não tem permissão para realizar esta ação.\"));","pos":3825,"len":16},{"txt":"        case 422:","pos":3842,"len":17},{"txt":"          // Validation errors","pos":3860,"len":100},{"txt":"          const validationErrors = error.response.data.errors;","pos":3961,"len":7},{"txt":"          if (validationErrors) {","pos":3969,"len":5},{"txt":"            return Promise.reject(new Error(Object.values(validationErrors).join(\", \")));","pos":3975,"len":33},{"txt":"          }","pos":4009,"len":3},{"txt":"          break;","pos":4013,"len":2},{"txt":"        case 500:","pos":4016,"len":0},{"txt":"          return Promise.reject(new Error(\"Erro interno do servidor. Tente novamente mais tarde.\"));","pos":4017,"len":26},{"txt":"      }","pos":4044,"len":19},{"txt":"    }","pos":4064,"len":54},{"txt":"    return Promise.reject(error);","pos":4119,"len":84},{"txt":"  }","pos":4204,"len":25},{"txt":");","pos":4230,"len":4},{"txt":"export const apiClient = {","pos":4236,"len":66},{"txt":"  // Auth endpoints","pos":4303,"len":93},{"txt":"  async login(data: LoginUserDTO): Promise<TokenDTO> {","pos":4397,"len":25},{"txt":"    const response = await axios.post<TokenDTO>(`${API_BASE_URL}/user/login`, data);","pos":4423,"len":4},{"txt":"    return response.data;","pos":4428,"len":0},{"txt":"  },","pos":4429,"len":19},{"txt":"","pos":4449,"len":55},{"txt":"  async register(data: RegisterUserDTO): Promise<CreatedUserDTO> {","pos":4505,"len":48},{"txt":"    const response = await axios.post<CreatedUserDTO>(`${API_BASE_URL}/user/register`, data);","pos":4554,"len":81},{"txt":"    return response.data;","pos":4636,"len":16},{"txt":"  },","pos":4653,"len":41},{"txt":"","pos":4695,"len":8},{"txt":"  // User endpoints","pos":4704,"len":7},{"txt":"  async getUserData(id: string): Promise<ReadUserDTO> {","pos":4712,"len":25},{"txt":"    const response = await axios.get<ReadUserDTO>(`${API_BASE_URL}/user/${id}`, {","pos":4738,"len":4},{"txt":"      headers: getAuthHeaders(),","pos":4743,"len":0},{"txt":"    });","pos":4744,"len":23},{"txt":"    return response.data;","pos":4768,"len":52},{"txt":"  },","pos":4821,"len":48},{"txt":"","pos":4870,"len":90},{"txt":"  // Employee endpoints","pos":4961,"len":16},{"txt":"  async getEmployees(): Promise<ReadEmployeeDTO[]> {","pos":4978,"len":41},{"txt":"    const response = await axios.get<ReadEmployeeDTO[]>(`${API_BASE_URL}/employee/list`, {","pos":5020,"len":8},{"txt":"      headers: getAuthHeaders(),","pos":5029,"len":7},{"txt":"    });","pos":5037,"len":25},{"txt":"    return response.data;","pos":5063,"len":4},{"txt":"  },","pos":5068,"len":0},{"txt":"","pos":5069,"len":63},{"txt":"  async getEmployeeById(id: string): Promise<ReadEmployeeDTO> {","pos":5133,"len":48},{"txt":"    const response = await axios.get<ReadEmployeeDTO>(`${API_BASE_URL}/employee/${id}`, {","pos":5182,"len":89},{"txt":"      headers: getAuthHeaders(),","pos":5272,"len":16},{"txt":"    });","pos":5289,"len":41},{"txt":"    return response.data;","pos":5331,"len":8},{"txt":"  },","pos":5340,"len":7},{"txt":"","pos":5348,"len":25},{"txt":"  async registerEmployee(data: RegisterEmployeeDTO): Promise<CreatedEmployeeDTO> {","pos":5374,"len":4},{"txt":"    const response = await axios.post<CreatedEmployeeDTO>(`${API_BASE_URL}/employee/register`, data, {","pos":5379,"len":0},{"txt":"      headers: getAuthHeaders(),","pos":5380,"len":82},{"txt":"    });","pos":5463,"len":48},{"txt":"    return response.data;","pos":5512,"len":102},{"txt":"  },","pos":5615,"len":16},{"txt":"","pos":5632,"len":41},{"txt":"  // Health Data endpoints","pos":5674,"len":8},{"txt":"  async registerHealthData(data: RegisterHealthDataDTO): Promise<CreatedHealthDataDTO> {","pos":5683,"len":7},{"txt":"    const response = await axios.post<CreatedHealthDataDTO>(`${API_BASE_URL}/healthdata/register`, data, {","pos":5691,"len":25},{"txt":"      headers: getAuthHeaders(),","pos":5717,"len":4},{"txt":"    });","pos":5722,"len":0},{"txt":"    return response.data;","pos":5723,"len":26},{"txt":"  },","pos":5750,"len":88},{"txt":"","pos":5839,"len":9},{"txt":"  async getHealthData(id: string): Promise<ReadHealthDataDTO> {","pos":5849,"len":100},{"txt":"    const response = await axios.get<ReadHealthDataDTO>(`${API_BASE_URL}/healthdata/${id}`, {","pos":5950,"len":27},{"txt":"      headers: getAuthHeaders(),","pos":5978,"len":26},{"txt":"    });","pos":6005,"len":75},{"txt":"    return response.data;","pos":6081,"len":5},{"txt":"  },","pos":6087,"len":4},{"txt":"  async getEmployeeHealthDataList(employeeId: string): Promise<ReadHealthDataDTO[]> {","pos":6093,"len":63},{"txt":"    const response = await axios.get<ReadHealthDataDTO[]>(`${API_BASE_URL}/healthdata/${employeeId}/list`, {","pos":6157,"len":9},{"txt":"      headers: getAuthHeaders(),","pos":6167,"len":87},{"txt":"    });","pos":6255,"len":27},{"txt":"    return response.data;","pos":6283,"len":26},{"txt":"  },","pos":6310,"len":72},{"txt":"","pos":6383,"len":5},{"txt":"  async getLastEmployeeHealthData(employeeId: string): Promise<ReadHealthDataDTO> {","pos":6389,"len":4},{"txt":"    const response = await axios.get<ReadHealthDataDTO>(`${API_BASE_URL}/healthdata/${employeeId}/last`, {","pos":6394,"len":0},{"txt":"      headers: getAuthHeaders(),","pos":6395,"len":85},{"txt":"    });","pos":6481,"len":9},{"txt":"    return response.data;","pos":6491,"len":102},{"txt":"  },","pos":6594,"len":27},{"txt":"","pos":6622,"len":26},{"txt":"  async getLastEmployeeHealthDataList(): Promise<ReadHealthDataDTO[]> {","pos":6649,"len":81},{"txt":"    const response = await axios.get<ReadHealthDataDTO[]>(`${API_BASE_URL}/healthdata/last/list`, {","pos":6731,"len":5},{"txt":"      headers: getAuthHeaders(),","pos":6737,"len":4},{"txt":"    });","pos":6742,"len":0},{"txt":"    return response.data;","pos":6743,"len":83},{"txt":"  },","pos":6827,"len":9},{"txt":"};","pos":6837,"len":100},{"txt":"","pos":6938,"len":786}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_a93de2f3-4d70-4a50-90de-44363de5f235%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"2192032","currentHash":"2192032","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"28a8c27","currentHash":"28a8c27","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"4e7f99f","currentHash":"4e7f99f","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"04b6170","currentHash":"04b6170","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"f5d4215","currentHash":"f5d4215","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"c7c0aae","currentHash":"c7c0aae","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/middleware.ts","languageId":"typescript","originalHash":"8ccf04e","currentHash":"8ccf04e","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/middleware.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}}]},{"stopId":"d7379731-73c3-4a82-af00-68f36cd6e113","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"88bdaf4","currentHash":"88bdaf4","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22d7379731-73c3-4a82-af00-68f36cd6e113%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}}]},{"stopId":"8fed46f5-d95c-4339-86af-c1cb644cb952","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"88bdaf4","currentHash":"9500f76","originalToCurrentEdit":[{"txt":";","pos":12,"len":0},{"txt":"","pos":21,"len":5},{"txt":";","pos":52,"len":0},{"txt":" {","pos":60,"len":0},{"txt":" }","pos":77,"len":0},{"txt":";","pos":115,"len":0},{"txt":"useAuth","pos":125,"len":8},{"txt":";\nimport { redirect } from \"next/navigation\";\n\nexport default ","pos":159,"len":2},{"txt":"\n ","pos":187,"len":0},{"txt":",\n","pos":196,"len":1},{"txt":"\n ","pos":201,"len":0},{"txt":";\n}) {\n  const { user, isLoading } = useAuth();\n\n  if (isLoading","pos":221,"len":2},{"txt":"  ","pos":227,"len":0},{"txt":"  ","pos":238,"len":0},{"txt":"items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900\"></div>\n","pos":276,"len":143},{"txt":"    );\n  }\n\n  if (!user) {\n    redirect(\"/login\");\n  }\n\n  return (\n    <div className=\"flex min-h-screen\">\n      <DashboardSidebar />\n      <main className=\"flex-1 bg-background\">{children}</main>\n","pos":432,"len":0},{"txt":";","pos":446,"len":0},{"txt":"","pos":449,"len":42}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%228fed46f5-d95c-4339-86af-c1cb644cb952%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"88bdaf4","currentHash":"89d90ca","originalToCurrentEdit":[{"txt":";","pos":12,"len":0},{"txt":"","pos":21,"len":5},{"txt":";","pos":52,"len":0},{"txt":" ","pos":60,"len":1},{"txt":";","pos":115,"len":0},{"txt":"useAuth","pos":125,"len":8},{"txt":";\nimport { redirect } from \"next/navigation\";\n\nexport default ","pos":159,"len":2},{"txt":"\n ","pos":187,"len":0},{"txt":",\n","pos":196,"len":1},{"txt":"\n ","pos":201,"len":0},{"txt":";\n}) {\n  const { user, isLoading } = useAuth();\n\n  if (isLoading","pos":221,"len":2},{"txt":"  ","pos":227,"len":0},{"txt":"  ","pos":238,"len":0},{"txt":"items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900\"></div>\n","pos":276,"len":143},{"txt":"    );\n  }\n\n  if (!user) {\n    redirect(\"/login\");\n  }\n\n  return (\n    <div className=\"flex min-h-screen\">\n      <DashboardSidebar />\n      <main className=\"flex-1 bg-background\">{children}</main>\n","pos":432,"len":0},{"txt":";","pos":446,"len":0},{"txt":"","pos":449,"len":42}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"2192032","currentHash":"2192032","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"28a8c27","currentHash":"28a8c27","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"4e7f99f","currentHash":"4e7f99f","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"04b6170","currentHash":"04b6170","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"f5d4215","currentHash":"f5d4215","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"c7c0aae","currentHash":"c7c0aae","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/middleware.ts","languageId":"typescript","originalHash":"8ccf04e","currentHash":"8ccf04e","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/middleware.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"89d90ca","currentHash":"89d90ca","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}}]},{"stopId":"97b6bd6c-a8da-4551-9acc-f8f76b675c2c","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"2192032","currentHash":"2192032","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%2297b6bd6c-a8da-4551-9acc-f8f76b675c2c%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}}]},{"stopId":"e4dd37c1-6ac6-45b1-817c-1e7f8746bd94","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"28a8c27","currentHash":"28a8c27","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22e4dd37c1-6ac6-45b1-817c-1e7f8746bd94%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"28a8c27","currentHash":"5800200","originalToCurrentEdit":[{"txt":"\"use client\";","pos":0,"len":13},{"txt":"import type React from \"react\";","pos":15,"len":31},{"txt":"import {","pos":47,"len":8},{"txt":"  createContext,","pos":56,"len":16},{"txt":"  useContext,","pos":73,"len":13},{"txt":"  useEffect,","pos":87,"len":12},{"txt":"  useState,","pos":100,"len":11},{"txt":"  type ReactNode,","pos":112,"len":17},{"txt":"} from \"react\";","pos":130,"len":15},{"txt":"import { useRouter } from \"next/navigation\";","pos":146,"len":44},{"txt":"import {","pos":191,"len":8},{"txt":"  apiClient,","pos":200,"len":12},{"txt":"  type LoginUserDTO,","pos":213,"len":20},{"txt":"  type RegisterUserDTO,","pos":234,"len":23},{"txt":"  type ReadUserDTO,","pos":258,"len":19},{"txt":"} from \"@/lib/api-client\";","pos":278,"len":26},{"txt":"import { toast } from \"sonner\";","pos":305,"len":31},{"txt":"import { jwtDecode } from \"jwt-decode\";","pos":337,"len":39},{"txt":"import Cookies from \"js-cookie\";","pos":377,"len":32},{"txt":"interface DecodedToken {","pos":411,"len":24},{"txt":"  iss: string;","pos":436,"len":14},{"txt":"  sub: string;","pos":451,"len":14},{"txt":"  exp: number;","pos":466,"len":15},{"txt":"}","pos":482,"len":1},{"txt":"interface AuthContextType {","pos":485,"len":27},{"txt":"  user: ReadUserDTO | null;","pos":513,"len":27},{"txt":"  login: (data: LoginUserDTO) => Promise<void>;","pos":541,"len":47},{"txt":"  register: (data: RegisterUserDTO) => Promise<void>;","pos":589,"len":53},{"txt":"  logout: () => void;","pos":643,"len":21},{"txt":"  isLoading: boolean;","pos":665,"len":21},{"txt":"}","pos":687,"len":1},{"txt":"const AuthContext = createContext<AuthContextType | null>(null);","pos":690,"len":64},{"txt":"export function AuthProvider({ children }: { children: ReactNode }) {","pos":756,"len":69},{"txt":"  const [user, setUser] = useState<ReadUserDTO | null>(null);","pos":826,"len":61},{"txt":"  const [isLoading, setIsLoading] = useState(true);","pos":888,"len":51},{"txt":"  const router = useRouter();","pos":940,"len":29},{"txt":"  // Função para validar o token","pos":971,"len":32},{"txt":"  const validateToken = (token: string) => {","pos":1004,"len":44},{"txt":"    try {","pos":1049,"len":9},{"txt":"      const decoded = jwtDecode<DecodedToken>(token);","pos":1059,"len":53},{"txt":"      const currentTime = Date.now() / 1000;","pos":1113,"len":44},{"txt":"      return decoded.exp > currentTime ? decoded : null;","pos":1158,"len":56},{"txt":"    } catch {","pos":1215,"len":13},{"txt":"      return null;","pos":1229,"len":18},{"txt":"    }","pos":1248,"len":5},{"txt":"  };","pos":1254,"len":4},{"txt":"  // Função para verificar autenticação","pos":1260,"len":39},{"txt":"  const checkAuth = async () => {","pos":1300,"len":33},{"txt":"    try {","pos":1334,"len":9},{"txt":"      const token = Cookies.get(\"token\");","pos":1344,"len":41},{"txt":"      if (!token) {","pos":1386,"len":19},{"txt":"        setUser(null);","pos":1406,"len":22},{"txt":"        setIsLoading(false);","pos":1429,"len":15},{"txt":"        return;","pos":1445,"len":7},{"txt":"      }","pos":1453,"len":0},{"txt":"","pos":1454,"len":43},{"txt":"      const decoded = validateToken(token);","pos":1498,"len":21},{"txt":"      if (!decoded) {","pos":1520,"len":32},{"txt":"        Cookies.remove(\"token\");","pos":1553,"len":22},{"txt":"        setUser(null);","pos":1576,"len":15},{"txt":"        setIsLoading(false);","pos":1592,"len":7},{"txt":"        return;","pos":1600,"len":0},{"txt":"      }","pos":1601,"len":64},{"txt":"","pos":1666,"len":24},{"txt":"      const userData = await apiClient.getUserData(decoded.sub);","pos":1691,"len":21},{"txt":"      setUser(userData);","pos":1713,"len":49},{"txt":"    } catch (error) {","pos":1763,"len":30},{"txt":"      console.error(\"Auth check failed:\", error);","pos":1794,"len":20},{"txt":"      Cookies.remove(\"token\");","pos":1815,"len":15},{"txt":"      setUser(null);","pos":1831,"len":26},{"txt":"    } finally {","pos":1858,"len":5},{"txt":"      setIsLoading(false);","pos":1864,"len":4},{"txt":"    }","pos":1869,"len":0},{"txt":"  };","pos":1870,"len":50},{"txt":"","pos":1921,"len":19},{"txt":"  // Verificar autenticação ao montar o componente","pos":1941,"len":16},{"txt":"  useEffect(() => {","pos":1958,"len":9},{"txt":"    checkAuth();","pos":1968,"len":0},{"txt":"  }, []);","pos":1969,"len":47},{"txt":"","pos":2017,"len":9},{"txt":"  const login = async (data: LoginUserDTO) => {","pos":2027,"len":25},{"txt":"    try {","pos":2053,"len":0},{"txt":"      setIsLoading(true);","pos":2054,"len":34},{"txt":"","pos":2089,"len":51},{"txt":"      // Fazer login e obter token","pos":2141,"len":36},{"txt":"      const { tokenJWT } = await apiClient.login(data);","pos":2178,"len":0},{"txt":"","pos":2179,"len":33},{"txt":"      // Validar o token recebido","pos":2213,"len":46},{"txt":"      const decoded = validateToken(tokenJWT);","pos":2260,"len":21},{"txt":"      if (!decoded) {","pos":2282,"len":63},{"txt":"        throw new Error(\"Token inválido recebido do servidor\");","pos":2346,"len":7},{"txt":"      }","pos":2354,"len":0},{"txt":"","pos":2355,"len":64},{"txt":"      // Salvar token em cookie seguro","pos":2420,"len":38},{"txt":"      Cookies.set(\"token\", tokenJWT, {","pos":2459,"len":39},{"txt":"        expires: 7, // expira em 7 dias","pos":2499,"len":54},{"txt":"        secure: process.env.NODE_ENV === \"production\",","pos":2554,"len":27},{"txt":"        sameSite: \"strict\",","pos":2582,"len":9},{"txt":"      });","pos":2592,"len":0},{"txt":"","pos":2593,"len":64},{"txt":"      // Buscar dados do usuário","pos":2658,"len":24},{"txt":"      const userData = await apiClient.getUserData(decoded.sub);","pos":2683,"len":0},{"txt":"      setUser(userData);","pos":2684,"len":52},{"txt":"","pos":2737,"len":32},{"txt":"      toast.success(\"Login realizado com sucesso!\");","pos":2770,"len":26},{"txt":"      router.push(\"/dashboard\");","pos":2797,"len":30},{"txt":"    } catch (error: any) {","pos":2828,"len":20},{"txt":"      Cookies.remove(\"token\");","pos":2849,"len":18},{"txt":"      setUser(null);","pos":2868,"len":75},{"txt":"      toast.error(","pos":2944,"len":8},{"txt":"        error.message || \"Erro ao fazer login. Verifique suas credenciais.\"","pos":2953,"len":18},{"txt":"      );","pos":2972,"len":15},{"txt":"      throw error;","pos":2988,"len":26},{"txt":"    } finally {","pos":3015,"len":5},{"txt":"      setIsLoading(false);","pos":3021,"len":4},{"txt":"    }","pos":3026,"len":0},{"txt":"  };","pos":3027,"len":53},{"txt":"","pos":3081,"len":9},{"txt":"  const register = async (data: RegisterUserDTO) => {","pos":3091,"len":25},{"txt":"    try {","pos":3117,"len":37},{"txt":"      setIsLoading(true);","pos":3155,"len":82},{"txt":"      await apiClient.register(data);","pos":3238,"len":28},{"txt":"      toast.success(\"Registro realizado com sucesso! Faça login para continuar.\");","pos":3267,"len":26},{"txt":"      router.push(\"/login\");","pos":3294,"len":74},{"txt":"    } catch (error: any) {","pos":3369,"len":18},{"txt":"      toast.error(error.message || \"Erro ao registrar. Tente novamente.\");","pos":3388,"len":15},{"txt":"      throw error;","pos":3404,"len":26},{"txt":"    } finally {","pos":3431,"len":5},{"txt":"      setIsLoading(false);","pos":3437,"len":4},{"txt":"    }","pos":3442,"len":0},{"txt":"  };","pos":3443,"len":24},{"txt":"","pos":3468,"len":28},{"txt":"  const logout = () => {","pos":3497,"len":18},{"txt":"    Cookies.remove(\"token\");","pos":3516,"len":26},{"txt":"    setUser(null);","pos":3543,"len":51},{"txt":"    router.push(\"/login\");","pos":3595,"len":4},{"txt":"    toast.success(\"Logout realizado com sucesso!\");","pos":3600,"len":0},{"txt":"  };","pos":3601,"len":10},{"txt":"","pos":3612,"len":79},{"txt":"  return (","pos":3692,"len":16},{"txt":"    <AuthContext.Provider value={{ user, login, register, logout, isLoading }}>","pos":3709,"len":27},{"txt":"      {children}","pos":3737,"len":4},{"txt":"    </AuthContext.Provider>","pos":3742,"len":1},{"txt":"  );","pos":3744,"len":0},{"txt":"}","pos":3745,"len":27},{"txt":"","pos":3773,"len":42},{"txt":"export function useAuth() {","pos":3816,"len":17},{"txt":"  const context = useContext(AuthContext);","pos":3834,"len":72},{"txt":"  if (!context) {","pos":3907,"len":3},{"txt":"    throw new Error(\"useAuth deve ser usado dentro de um AuthProvider\");","pos":3911,"len":17},{"txt":"  }","pos":3929,"len":1},{"txt":"  return context;\n}\n","pos":3931,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_b0ccd6af-f30a-46ac-b12f-2d7282758a08%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"2192032","currentHash":"7401bc6","originalToCurrentEdit":[{"txt":"{\n   ","pos":367,"len":9},{"txt":" token ?","pos":391,"len":0},{"txt":": '',\n    'Content-Type': 'application/json',\n  ","pos":410,"len":5},{"txt":"    try {\n","pos":4306,"len":0},{"txt":"  ","pos":4306,"len":0},{"txt":"  ","pos":4391,"len":0},{"txt":"    } catch (error: any) {\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao fazer login. Verifique suas credenciais.\");\n    }\n","pos":4417,"len":0},{"txt":"    try {\n","pos":4490,"len":0},{"txt":"  ","pos":4490,"len":0},{"txt":"  ","pos":4584,"len":0},{"txt":"    } catch (error: any) {\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao registrar usuário.\");\n    }\n","pos":4610,"len":0},{"txt":"    try {\n      // Se parece com um email, usa a rota by-email\n      if (id.includes('@')) {\n        const response = await axios.get<ReadUserDTO>(`${API_BASE_URL}/user/by-email/${id}`, {\n          headers: getAuthHeaders(),\n        });\n        return response.data;\n      }\n      // Senão usa a rota por ID\n","pos":4692,"len":0},{"txt":"  ","pos":4692,"len":0},{"txt":"  ","pos":4774,"len":0},{"txt":"  ","pos":4807,"len":0},{"txt":"  ","pos":4815,"len":0},{"txt":"    } catch (error: any) {\n      if (error.response?.status === 403) {\n        throw new Error(\"Acesso negado. Faça login novamente.\");\n      }\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao buscar dados do usuário.\");\n    }\n","pos":4841,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"28a8c27","currentHash":"5800200","originalToCurrentEdit":[{"txt":"  iss: string;\n","pos":436,"len":0},{"txt":"","pos":466,"len":16},{"txt":"        setIsLoading(false);\n","pos":1429,"len":0},{"txt":"        setIsLoading(false);\n","pos":1576,"len":0},{"txt":"{ tokenJWT }","pos":2101,"len":8},{"txt":"","pos":2141,"len":37},{"txt":"","pos":2393,"len":26},{"txt":"      // Buscar dados do usuário\n","pos":2593,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"4e7f99f","currentHash":"4e7f99f","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"04b6170","currentHash":"04b6170","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"f5d4215","currentHash":"f5d4215","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"c7c0aae","currentHash":"c7c0aae","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/middleware.ts","languageId":"typescript","originalHash":"8ccf04e","currentHash":"8ccf04e","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/middleware.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"89d90ca","currentHash":"89d90ca","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}}]},{"stopId":"c8f546f9-b31f-4136-8c49-22e9401076ec","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx","languageId":"typescriptreact","originalHash":"7a5e1c1","currentHash":"7a5e1c1","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22c8f546f9-b31f-4136-8c49-22e9401076ec%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}}]},{"stopId":"a83cbad6-3c89-49b6-bf26-d5351c22f9c9","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-employees.ts","languageId":"typescript","originalHash":"b766cd6","currentHash":"b766cd6","originalToCurrentEdit":[],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-employees.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22a83cbad6-3c89-49b6-bf26-d5351c22f9c9%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}}]},{"stopId":"00d11e36-7fe6-4876-a825-ec48714e21fa","entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"2192032","currentHash":"7401bc6","originalToCurrentEdit":[{"txt":"{\n   ","pos":367,"len":9},{"txt":" token ?","pos":391,"len":0},{"txt":": '',\n    'Content-Type': 'application/json',\n  ","pos":410,"len":5},{"txt":"    try {\n","pos":4306,"len":0},{"txt":"  ","pos":4306,"len":0},{"txt":"  ","pos":4391,"len":0},{"txt":"    } catch (error: any) {\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao fazer login. Verifique suas credenciais.\");\n    }\n","pos":4417,"len":0},{"txt":"    try {\n","pos":4490,"len":0},{"txt":"  ","pos":4490,"len":0},{"txt":"  ","pos":4584,"len":0},{"txt":"    } catch (error: any) {\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao registrar usuário.\");\n    }\n","pos":4610,"len":0},{"txt":"    try {\n      // Se parece com um email, usa a rota by-email\n      if (id.includes('@')) {\n        const response = await axios.get<ReadUserDTO>(`${API_BASE_URL}/user/by-email/${id}`, {\n          headers: getAuthHeaders(),\n        });\n        return response.data;\n      }\n      // Senão usa a rota por ID\n","pos":4692,"len":0},{"txt":"  ","pos":4692,"len":0},{"txt":"  ","pos":4774,"len":0},{"txt":"  ","pos":4807,"len":0},{"txt":"  ","pos":4815,"len":0},{"txt":"    } catch (error: any) {\n      if (error.response?.status === 403) {\n        throw new Error(\"Acesso negado. Faça login novamente.\");\n      }\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao buscar dados do usuário.\");\n    }\n","pos":4841,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%2200d11e36-7fe6-4876-a825-ec48714e21fa%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}}]}],"postEdit":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"2192032","currentHash":"387eb0d","originalToCurrentEdit":[{"txt":"import axios, { AxiosInstance } from \"axios\";","pos":0,"len":45},{"txt":"import { toast } from \"sonner\";","pos":46,"len":31},{"txt":"import Cookies from 'js-cookie';","pos":78,"len":32},{"txt":"// API Base Configuration","pos":112,"len":25},{"txt":"const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"https://vitaport-production.up.railway.app\";","pos":138,"len":101},{"txt":"// Função auxiliar para obter headers com token","pos":241,"len":47},{"txt":"const getAuthHeaders = () => {","pos":289,"len":30},{"txt":"  const token = Cookies.get('token');","pos":320,"len":37},{"txt":"  return {\n    Authorization: token ? `Bearer ${token}` : '',\n    'Content-Type': 'application/json',\n  };","pos":358,"len":59},{"txt":"};","pos":418,"len":2},{"txt":"// Types based on API documentation","pos":422,"len":35},{"txt":"export interface RegisterUserDTO {","pos":458,"len":34},{"txt":"  name: string;","pos":493,"len":15},{"txt":"  email: string;","pos":509,"len":16},{"txt":"  password: string;","pos":526,"len":19},{"txt":"  role: \"employee\" | \"data_analyst\" | \"system_manager\";","pos":546,"len":55},{"txt":"}","pos":602,"len":1},{"txt":"export interface CreatedUserDTO {","pos":605,"len":33},{"txt":"  id: string;","pos":639,"len":13},{"txt":"  name: string;","pos":653,"len":15},{"txt":"  email: string;","pos":669,"len":16},{"txt":"}","pos":686,"len":1},{"txt":"export interface LoginUserDTO {","pos":689,"len":31},{"txt":"  email: string;","pos":721,"len":16},{"txt":"  password: string;","pos":738,"len":19},{"txt":"}","pos":758,"len":1},{"txt":"export interface TokenDTO {","pos":761,"len":27},{"txt":"  tokenJWT: string;","pos":789,"len":19},{"txt":"}","pos":809,"len":1},{"txt":"export interface ReadUserDTO {","pos":812,"len":30},{"txt":"  id: string;","pos":843,"len":13},{"txt":"  name: string;","pos":857,"len":15},{"txt":"  email: string;","pos":873,"len":16},{"txt":"  userRole: \"EMPLOYEE\" | \"DATA_ANALYST\" | \"SYSTEM_MANAGER\";","pos":890,"len":59},{"txt":"  active: boolean;","pos":950,"len":18},{"txt":"}","pos":969,"len":1},{"txt":"export interface RegisterEmployeeDTO {","pos":972,"len":38},{"txt":"  user_id: string;","pos":1011,"len":18},{"txt":"  registrationNumber: string;","pos":1030,"len":29},{"txt":"  cpf: string;","pos":1060,"len":14},{"txt":"  fullName: string;","pos":1075,"len":19},{"txt":"  socialName: string;","pos":1095,"len":21},{"txt":"}","pos":1117,"len":1},{"txt":"export interface CreatedEmployeeDTO {","pos":1120,"len":37},{"txt":"  id: string;","pos":1158,"len":13},{"txt":"  user_id: string;","pos":1172,"len":18},{"txt":"  registrationNumber: string;","pos":1191,"len":29},{"txt":"  cpf: string;","pos":1221,"len":14},{"txt":"  fullName: string;","pos":1236,"len":19},{"txt":"  socialName: string;","pos":1256,"len":21},{"txt":"}","pos":1278,"len":1},{"txt":"export interface ReadEmployeeDTO {","pos":1281,"len":34},{"txt":"  id: string;","pos":1316,"len":13},{"txt":"  user: ReadUserDTO;","pos":1330,"len":20},{"txt":"  registrationNumber: string;","pos":1351,"len":29},{"txt":"  cpf: string;","pos":1381,"len":14},{"txt":"  fullName: string;","pos":1396,"len":19},{"txt":"  socialName: string;","pos":1416,"len":21},{"txt":"  healthCarePages: ReadHealthDataDTO[];","pos":1438,"len":39},{"txt":"}","pos":1478,"len":1},{"txt":"export interface RegisterHealthDataDTO {","pos":1481,"len":40},{"txt":"  employee_id: string;","pos":1522,"len":22},{"txt":"  bpm: number;","pos":1545,"len":14},{"txt":"  spo2?: number;","pos":1560,"len":16},{"txt":"  ecgSignal?: string;","pos":1577,"len":21},{"txt":"  sleepDuration?: number;","pos":1599,"len":25},{"txt":"  sleepQuality?: string;","pos":1625,"len":24},{"txt":"  stressLevel?: number;","pos":1650,"len":23},{"txt":"  steps?: number;","pos":1674,"len":17},{"txt":"  distanceM?: number;","pos":1692,"len":21},{"txt":"  calories?: number;","pos":1714,"len":20},{"txt":"  bpSystolic?: number;","pos":1735,"len":22},{"txt":"  bpDiastolic?: number;","pos":1758,"len":23},{"txt":"  skinTemp?: number;","pos":1782,"len":20},{"txt":"  timestamp: string;","pos":1803,"len":20},{"txt":"}","pos":1824,"len":1},{"txt":"export interface ReadHealthDataDTO {","pos":1827,"len":36},{"txt":"  healthdata_id: string;","pos":1864,"len":24},{"txt":"  employee_id: string;","pos":1889,"len":22},{"txt":"  bpm: number;","pos":1912,"len":14},{"txt":"  spo2?: number;","pos":1927,"len":16},{"txt":"  ecgSignal?: string;","pos":1944,"len":21},{"txt":"  sleepDuration?: number;","pos":1966,"len":25},{"txt":"  sleepQuality?: \"POOR\" | \"AVERAGE\" | \"GOOD\" | \"EXCEPTIONAL\";","pos":1992,"len":61},{"txt":"  stressLevel?: number;","pos":2054,"len":23},{"txt":"  steps?: number;","pos":2078,"len":17},{"txt":"  distanceM?: number;","pos":2096,"len":21},{"txt":"  calories?: number;","pos":2118,"len":20},{"txt":"  bpSystolic?: number;","pos":2139,"len":22},{"txt":"  bpDiastolic?: number;","pos":2162,"len":23},{"txt":"  skinTemp?: number;","pos":2186,"len":20},{"txt":"  timestamp: string;","pos":2207,"len":20},{"txt":"}","pos":2228,"len":1},{"txt":"export interface CreatedHealthDataDTO extends ReadHealthDataDTO {}","pos":2231,"len":66},{"txt":"// API Error types","pos":2299,"len":18},{"txt":"export interface APIError {","pos":2318,"len":27},{"txt":"  message: string;","pos":2346,"len":18},{"txt":"  status: number;","pos":2365,"len":17},{"txt":"  details?: any;","pos":2383,"len":16},{"txt":"}","pos":2400,"len":1},{"txt":"export const handleAPIError = (error: any) => {","pos":2403,"len":47},{"txt":"  console.error(\"API Error: \", error);","pos":2451,"len":38},{"txt":"  const message =","pos":2490,"len":17},{"txt":"    error.response?.data?.message || error.message || \"An error occurred\";","pos":2508,"len":74},{"txt":"  toast.error(message);","pos":2583,"len":23},{"txt":"  if (error.response?.status === 401 || error.response?.status === 403) {","pos":2607,"len":73},{"txt":"    Cookies.remove('token');","pos":2681,"len":28},{"txt":"    window.location.href = \"/login\";","pos":2710,"len":36},{"txt":"  }","pos":2747,"len":3},{"txt":"};","pos":2751,"len":2},{"txt":"// Create axios instance with interceptors","pos":2755,"len":42},{"txt":"const axiosInstance: AxiosInstance = axios.create({","pos":2798,"len":51},{"txt":"  baseURL: API_BASE_URL,","pos":2850,"len":24},{"txt":"  headers: {","pos":2875,"len":12},{"txt":"    \"Content-Type\": \"application/json\",","pos":2888,"len":39},{"txt":"  },","pos":2928,"len":4},{"txt":"});","pos":2933,"len":3},{"txt":"// Request interceptor to add token","pos":2938,"len":35},{"txt":"axiosInstance.interceptors.request.use(","pos":2974,"len":39},{"txt":"  (config) => {","pos":3014,"len":15},{"txt":"    const token = Cookies.get('token');","pos":3030,"len":39},{"txt":"    if (token) {","pos":3070,"len":16},{"txt":"      config.headers.Authorization = `Bearer ${token}`;","pos":3087,"len":55},{"txt":"    }","pos":3143,"len":5},{"txt":"    return config;","pos":3149,"len":18},{"txt":"  },","pos":3168,"len":4},{"txt":"  (error) => {","pos":3173,"len":14},{"txt":"    return Promise.reject(error);","pos":3188,"len":33},{"txt":"  }","pos":3222,"len":3},{"txt":");","pos":3226,"len":2},{"txt":"// Response interceptor to handle errors","pos":3230,"len":40},{"txt":"axiosInstance.interceptors.response.use(","pos":3271,"len":40},{"txt":"  (response) => response,","pos":3312,"len":25},{"txt":"  (error) => {","pos":3338,"len":14},{"txt":"    if (error.response) {","pos":3353,"len":25},{"txt":"      // Handle specific error cases","pos":3379,"len":36},{"txt":"      switch (error.response.status) {","pos":3416,"len":38},{"txt":"        case 401:","pos":3455,"len":17},{"txt":"          Cookies.remove('token');","pos":3473,"len":34},{"txt":"          window.location.href = \"/login\";","pos":3508,"len":42},{"txt":"          return Promise.reject(new Error(\"Sua sessão expirou. Por favor, faça login novamente.\"));","pos":3551,"len":99},{"txt":"        case 403:","pos":3651,"len":17},{"txt":"          return Promise.reject(new Error(\"Você não tem permissão para realizar esta ação.\"));","pos":3669,"len":94},{"txt":"        case 422:","pos":3764,"len":17},{"txt":"          // Validation errors","pos":3782,"len":30},{"txt":"          const validationErrors = error.response.data.errors;","pos":3813,"len":62},{"txt":"          if (validationErrors) {","pos":3876,"len":33},{"txt":"            return Promise.reject(new Error(Object.values(validationErrors).join(\", \")));","pos":3910,"len":89},{"txt":"          }","pos":4000,"len":11},{"txt":"          break;","pos":4012,"len":16},{"txt":"        case 500:","pos":4029,"len":17},{"txt":"          return Promise.reject(new Error(\"Erro interno do servidor. Tente novamente mais tarde.\"));","pos":4047,"len":100},{"txt":"      }","pos":4148,"len":7},{"txt":"    }","pos":4156,"len":5},{"txt":"    return Promise.reject(error);","pos":4162,"len":33},{"txt":"  }","pos":4196,"len":3},{"txt":");","pos":4200,"len":2},{"txt":"export const apiClient = {","pos":4204,"len":26},{"txt":"  // Auth endpoints","pos":4231,"len":19},{"txt":"  async login(data: LoginUserDTO): Promise<TokenDTO> {","pos":4251,"len":54},{"txt":"    try {\n      const response = await axios.post<TokenDTO>(`${API_BASE_URL}/user/login`, data);","pos":4306,"len":84},{"txt":"      return response.data;","pos":4391,"len":25},{"txt":"    } catch (error: any) {\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao fazer login. Verifique suas credenciais.\");\n    }\n  },","pos":4417,"len":4},{"txt":"  async register(data: RegisterUserDTO): Promise<CreatedUserDTO> {","pos":4423,"len":66},{"txt":"    try {\n      const response = await axios.post<CreatedUserDTO>(`${API_BASE_URL}/user/register`, data);","pos":4490,"len":93},{"txt":"      return response.data;","pos":4584,"len":25},{"txt":"    } catch (error: any) {\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao registrar usuário.\");\n    }\n  },","pos":4610,"len":4},{"txt":"  // User endpoints","pos":4616,"len":19},{"txt":"  async getUserData(id: string): Promise<ReadUserDTO> {","pos":4636,"len":55},{"txt":"    try {\n      // Se parece com um email, usa a rota by-email\n      if (id.includes('@')) {\n        const response = await axios.get<ReadUserDTO>(`${API_BASE_URL}/user/by-email/${id}`, {\n          headers: getAuthHeaders(),\n        });\n        return response.data;\n      }\n      // Senão usa a rota por ID\n      const response = await axios.get<ReadUserDTO>(`${API_BASE_URL}/user/${id}`, {","pos":4692,"len":81},{"txt":"        headers: getAuthHeaders(),","pos":4774,"len":32},{"txt":"      });","pos":4807,"len":7},{"txt":"      return response.data;","pos":4815,"len":25},{"txt":"    } catch (error: any) {\n      if (error.response?.status === 403) {\n        throw new Error(\"Acesso negado. Faça login novamente.\");\n      }\n      if (error.response?.data?.message) {\n        throw new Error(error.response.data.message);\n      }\n      throw new Error(\"Erro ao buscar dados do usuário.\");\n    }\n  },","pos":4841,"len":4},{"txt":"  // Employee endpoints","pos":4847,"len":23},{"txt":"  async getEmployees(): Promise<ReadEmployeeDTO[]> {","pos":4871,"len":52},{"txt":"    const response = await axios.get<ReadEmployeeDTO[]>(`${API_BASE_URL}/employee/list`, {","pos":4924,"len":90},{"txt":"      headers: getAuthHeaders(),","pos":5015,"len":32},{"txt":"    });","pos":5048,"len":7},{"txt":"    return response.data;","pos":5056,"len":25},{"txt":"  },","pos":5082,"len":4},{"txt":"  async getEmployeeById(id: string): Promise<ReadEmployeeDTO> {","pos":5088,"len":63},{"txt":"    const response = await axios.get<ReadEmployeeDTO>(`${API_BASE_URL}/employee/${id}`, {","pos":5152,"len":89},{"txt":"      headers: getAuthHeaders(),","pos":5242,"len":32},{"txt":"    });","pos":5275,"len":7},{"txt":"    return response.data;","pos":5283,"len":25},{"txt":"  },","pos":5309,"len":4},{"txt":"  async getEmployeeByRegistrationNumber(registrationNumber: string): Promise<ReadEmployeeDTO> {","pos":5315,"len":82},{"txt":"    const response = await axios.get<ReadEmployeeDTO>(`${API_BASE_URL}/employee/${registrationNumber}`, {","pos":5398,"len":102},{"txt":"      headers: getAuthHeaders(),","pos":5501,"len":32},{"txt":"    });","pos":5534,"len":7},{"txt":"    return response.data;","pos":5542,"len":25},{"txt":"  },","pos":5568,"len":4},{"txt":"  async registerEmployee(data: RegisterEmployeeDTO): Promise<CreatedEmployeeDTO> {","pos":5574,"len":26},{"txt":"    const response = await axios.post<CreatedEmployeeDTO>(`${API_BASE_URL}/employee/register`, data, {","pos":5601,"len":88},{"txt":"      headers: getAuthHeaders(),","pos":5690,"len":106},{"txt":"    });","pos":5797,"len":32},{"txt":"    return response.data;","pos":5830,"len":7},{"txt":"  },","pos":5838,"len":25},{"txt":"","pos":5864,"len":4},{"txt":"  // Health Data endpoints","pos":5869,"len":0},{"txt":"  async registerHealthData(data: RegisterHealthDataDTO): Promise<CreatedHealthDataDTO> {","pos":5870,"len":63},{"txt":"    const response = await axios.post<CreatedHealthDataDTO>(`${API_BASE_URL}/healthdata/register`, data, {","pos":5934,"len":93},{"txt":"      headers: getAuthHeaders(),","pos":6028,"len":32},{"txt":"    });","pos":6061,"len":7},{"txt":"    return response.data;","pos":6069,"len":25},{"txt":"  },","pos":6095,"len":4},{"txt":"  async getHealthData(id: string): Promise<ReadHealthDataDTO> {","pos":6101,"len":85},{"txt":"    const response = await axios.get<ReadHealthDataDTO>(`${API_BASE_URL}/healthdata/${id}`, {","pos":6187,"len":108},{"txt":"      headers: getAuthHeaders(),","pos":6296,"len":32},{"txt":"    });","pos":6329,"len":7},{"txt":"    return response.data;","pos":6337,"len":25},{"txt":"  },","pos":6363,"len":4},{"txt":"  async getEmployeeHealthDataList(employeeId: string): Promise<ReadHealthDataDTO[]> {","pos":6369,"len":83},{"txt":"    const response = await axios.get<ReadHealthDataDTO[]>(`${API_BASE_URL}/healthdata/${employeeId}/list`, {","pos":6453,"len":106},{"txt":"      headers: getAuthHeaders(),","pos":6560,"len":32},{"txt":"    });","pos":6593,"len":7},{"txt":"    return response.data;","pos":6601,"len":25},{"txt":"  },","pos":6627,"len":4},{"txt":"  async getLastEmployeeHealthData(employeeId: string): Promise<ReadHealthDataDTO> {","pos":6633,"len":71},{"txt":"    const response = await axios.get<ReadHealthDataDTO>(`${API_BASE_URL}/healthdata/${employeeId}/last`, {","pos":6705,"len":99},{"txt":"      headers: getAuthHeaders(),","pos":6805,"len":32},{"txt":"    });","pos":6838,"len":7},{"txt":"    return response.data;","pos":6846,"len":25},{"txt":"  },","pos":6872,"len":4},{"txt":"","pos":6877,"len":2},{"txt":"  async getLastEmployeeHealthDataList(): Promise<ReadHealthDataDTO[]> {\n    const response = await axios.get<ReadHealthDataDTO[]>(`${API_BASE_URL}/healthdata/last/list`, {\n      headers: getAuthHeaders(),\n    });\n    return response.data;\n  },\n};\n","pos":6880,"len":0}],"state":0,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce%22%2C%22undoStop%22%3A%22d19944f6-f46c-4e17-911b-79a8e843c7c0%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}}]},{"requestId":"request_573267d1-2914-4c61-987c-dd4cfbeb7987","stops":[{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"387eb0d","currentHash":"387eb0d","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"5800200","currentHash":"5800200","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"4e7f99f","currentHash":"4e7f99f","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"04b6170","currentHash":"04b6170","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"f5d4215","currentHash":"f5d4215","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"c7c0aae","currentHash":"c7c0aae","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/middleware.ts","languageId":"typescript","originalHash":"8ccf04e","currentHash":"8ccf04e","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/middleware.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"89d90ca","currentHash":"89d90ca","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx","languageId":"typescriptreact","originalHash":"eedda28","currentHash":"eedda28","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-employees.ts","languageId":"typescript","originalHash":"743c0c2","currentHash":"743c0c2","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-employees.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22request_573267d1-2914-4c61-987c-dd4cfbeb7987%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}}]}]}],"linearHistoryIndex":29,"initialFileContents":[["file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","ea5efd2"],["file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","99e0111"],["file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","6bd1895"],["file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","10e4f7f"],["file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","da39a3e"],["file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","6b277cc"],["file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","6b18702"],["file:///home/monteiro/codes/vitaport_front/middleware.ts","da39a3e"],["file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","88bdaf4"],["file:///home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx","7a5e1c1"],["file:///home/monteiro/codes/vitaport_front/hooks/use-employees.ts","b766cd6"]],"recentSnapshot":{"entries":[{"resource":"file:///home/monteiro/codes/vitaport_front/lib/api-client.ts","languageId":"typescript","originalHash":"387eb0d","currentHash":"387eb0d","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/api-client.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-auth.tsx","languageId":"typescriptreact","originalHash":"5800200","currentHash":"5800200","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-auth.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_b0ccd6af-f30a-46ac-b12f-2d7282758a08","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/login/page.tsx","languageId":"typescriptreact","originalHash":"249891c","currentHash":"249891c","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/login/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_700e6f8f-33d6-42cb-85f3-ef3fcca39204","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/lib/mock-data.ts","languageId":"typescript","originalHash":"4e7f99f","currentHash":"4e7f99f","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/lib/mock-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts","languageId":"typescript","originalHash":"04b6170","currentHash":"04b6170","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-mock-health-data.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx","languageId":"typescriptreact","originalHash":"f5d4215","currentHash":"f5d4215","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-health-data.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx","languageId":"typescriptreact","originalHash":"c7c0aae","currentHash":"c7c0aae","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/components/real-time-dashboard-overview.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_4230c461-2c7c-4848-8903-c5fe176f463d","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/middleware.ts","languageId":"typescript","originalHash":"8ccf04e","currentHash":"8ccf04e","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/middleware.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_a93de2f3-4d70-4a50-90de-44363de5f235","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx","languageId":"typescriptreact","originalHash":"89d90ca","currentHash":"89d90ca","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/layout.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_faeb2cd6-5aee-4a3d-b7a0-78782d05f71e","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx","languageId":"typescriptreact","originalHash":"eedda28","currentHash":"eedda28","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/app/dashboard/real-time/page.tsx?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}},{"resource":"file:///home/monteiro/codes/vitaport_front/hooks/use-employees.ts","languageId":"typescript","originalHash":"743c0c2","currentHash":"743c0c2","originalToCurrentEdit":[],"state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/monteiro/codes/vitaport_front/hooks/use-employees.ts?%7B%22sessionId%22%3A%22de3ca7e4-84b3-4e63-bc79-789d22a650f4%22%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_03ed6c3c-6e44-4e4b-abb5-2763adfd1bce","agentId":"github.copilot.editsAgent"}}]}}