import { useEffect, useState } from "react";
import Navbar from "./components/Navbar";
import Contact from "./sections/Contact";
import Projects from "./sections/Projects";
import Skills from "./sections/Skills";
import Timeline from "./sections/Timeline";

function AreaOfInterest({ children }: { children: React.ReactNode }) {
  return (
    <span className="bg-black/25 px-6 py-1 rounded-full font-light text-sm tracking-wide mr-2 mb-2 inline-block shadow-sm border border-black/10">
      {children}
    </span>
  );
}

export default function App() {
  const [scrolled, setScrolled] = useState<boolean>(false);

  useEffect(() => {
    const onScroll = () => {
      setScrolled(window.scrollY > 50);
    };

    window.addEventListener("scroll", onScroll);

    return () => window.removeEventListener("scroll", onScroll);
  }, []);

  return (
    <div className="max-w-[1300px] mx-auto relative min-h-screen bg-gradient-to-br from-slate-100 via-white to-slate-200 px-2 sm:px-6">
      <header
        className={`z-20 flex items-center justify-between transition-all duration-200 ${scrolled ? "py-1 fixed top-0 left-0 right-0 bg-white/80 shadow-lg backdrop-blur-md" : "py-4"}`}
        style={{
          borderBottom: scrolled ? "1px solid #e5e7eb" : undefined,
        }}
      >
        <h1 className="text-2xl sm:text-3xl font-bold mr-auto tracking-tight text-slate-900 drop-shadow-sm select-none">
          MonteiroBySWK
        </h1>
        <Navbar />
      </header>

      <main className="pt-24 sm:pt-28 pb-10">
        <section className="mb-8 flex flex-wrap gap-2 items-center">
          <AreaOfInterest>Backend</AreaOfInterest>
          <AreaOfInterest>Infra/DevOps</AreaOfInterest>
          <AreaOfInterest>Segurança</AreaOfInterest>
        </section>

        <section className="mb-10">
          <Contact />
        </section>

        <section className="text-justify space-y-5 mb-10 bg-white/80 rounded-lg shadow p-6">
          <p>
            Sou um desenvolvedor backend com forte atuação em infraestrutura e
            segurança, liderando times e projetos de software sob demanda para
            empresas e instituições públicas. Tenho experiência sólida com {" "}
            <strong>Java (Spring Boot)</strong> e <strong>Python (Django)</strong>
            , integrando <strong>APIs REST seguras</strong>, autenticação via {" "}
            <strong>JWT</strong>, bancos relacionais como {" "}
            <strong>PostgreSQL</strong>, e versionamento com {" "}
            <strong>GitHub Flow</strong>.
          </p>
          <p>
            Além disso, gerencio aplicações em produção usando {" "}
            <strong>Docker</strong>, <strong>Railway</strong>, {" "}
            <strong>Vercel</strong> e estou me aprofundando em {" "}
            <strong>CI/CD</strong>, <strong>Kubernetes</strong>, {" "}
            <strong>monitoramento</strong> e <strong>cloud (AWS/GCP)</strong>.

      <Projects />

      <Skills />
      <Timeline />
    </div>
  );
}
