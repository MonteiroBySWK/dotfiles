import { useEffect, useState } from "react";
import Navbar from "./components/Navbar";
import Contact from "./sections/Contact";
import Projects from "./sections/Projects";
import Skills from "./sections/Skills";
import Timeline from "./sections/Timeline";

function AreaOfInterest({ children }: { children: React.ReactNode }) {
  return (
    <span className="bg-black/25 px-6 py-1 rounded-full font-light">
      {children}
    </span>
  );
}

export default function App() {
  const [scrolled, setScrolled] = useState<boolean>(false);

  useEffect(() => {
    const onScroll = () => {
      setScrolled(window.scrollY > 50);
    };

    window.addEventListener("scroll", onScroll);

    return () => window.removeEventListener("scroll", onScroll);
  }, []);

  return (
    <div className="max-w-[1300px] mx-auto relative">
      <header className={`flex items-center justify-between transition-all duration-200 ${scrolled ? "py-1 fixed backdrop-blur-md justify-center" : "py-2"}`}>
        <h1 className="text-2xl font-bold mr-auto">MonteiroBySWK</h1>
        <Navbar />
      </header>

      <div>
        <AreaOfInterest>Backend</AreaOfInterest>
        <AreaOfInterest>Infra/DevOps</AreaOfInterest>
        <AreaOfInterest>Segurança</AreaOfInterest>
      </div>

      <Contact />

      <div className="text-justify space-y-5">
        <p>
          Sou um desenvolvedor backend com forte atuação em infraestrutura e
          segurança, liderando times e projetos de software sob demanda para
          empresas e instituições públicas. Tenho experiência sólida com{" "}
          <strong>Java (Spring Boot)</strong> e <strong>Python (Django)</strong>
          , integrando <strong>APIs REST seguras</strong>, autenticação via{" "}
          <strong>JWT</strong>, bancos relacionais como{" "}
          <strong>PostgreSQL</strong>, e versionamento com{" "}
          <strong>GitHub Flow</strong>.
        </p>
        <p>
          Além disso, gerencio aplicações em produção usando{" "}
          <strong>Docker</strong>, <strong>Railway</strong>,{" "}
          <strong>Vercel</strong> e estou me aprofundando em{" "}
          <strong>CI/CD</strong>, <strong>Kubernetes</strong>,{" "}
          <strong>monitoramento</strong> e <strong>cloud (AWS/GCP)</strong>.
          Atuo também como coordenador técnico em um laboratório de
          desenvolvimento, onde lidero sprints com{" "}
          <strong>Scrum + Kanban</strong> e faço ponte entre visão de produto e
          implementação.
        </p>
        <p>
          Tenho um perfil autodidata, focado em entregar soluções robustas,
          seguras e escaláveis, sempre com visão de produto e melhoria contínua.
        </p>
      </div>

      <Projects />

      <Skills />
      <Timeline />
    </div>
  );
}
